<?php
 namespace app\index\model; use think\Model; use think\Cache; use think\Log; class Setting extends Model { protected $tableName = "\x73\x65\x74\x74\x69\156\x67"; protected $pk = "\x6b\145\171"; public function getSetting($field = null) { goto j1IMe; QVNA2: return $items[$field]["\166\x61\154\x75\x65"]; goto cp5WP; E7_69: return $items[$field]["\x76\141\154\x75\x65"]; goto C0h3Z; B546v: $data = $this->where($where)->column("\x6b\x65\x79\54\x76\x61\154\x75\145"); goto GW3uF; ZTdrY: G2dTN: goto itWLr; F2Ouq: goto vcNWa; goto HYJvM; HYJvM: bS31c: goto uhaig; GW3uF: foreach ($items as $key => &$arr) { goto Ms5aN; bDMmk: $arr["\x6b\145\171"] = $key; goto WuOjh; Xpc7I: jhfT0: goto okFmA; okFmA: GuEDd: goto xzdr9; xzdr9: $arr["\166\141\x6c\165\145"] = array_key_exists($key, $data) ? $data[$key] : $arr["\x64\145\146\x61\165\154\164"]; goto bDMmk; Ms5aN: switch ($key) { case "\114\117\x47\111\x4e\x5f\117\116\114\x59\x5f\117\116\105": goto fabAa; GTxOM: goto GuEDd; goto q8n5R; fabAa: if (!isset($data[$key])) { goto ipZfM; } goto ks5vj; ks5vj: $data[$key] = $data[$key] ? "\x79\x65\x73" : "\x6e\x6f"; goto hRyyH; hRyyH: ipZfM: goto GTxOM; q8n5R: } goto Xpc7I; WuOjh: QOT2a: goto bqFMU; bqFMU: } goto MQDSg; Wlyk9: $where = "\x60\153\145\171\x60\40\151\x6e\x28\x27" . implode("\x27\x2c\x27", $fields) . "\47\x29"; goto B546v; Lsgkf: if ($field) { goto bS31c; } goto cObzJ; cObzJ: return $items; goto F2Ouq; q5lTf: if ($field) { goto G2dTN; } goto e3rm0; MQDSg: cfCIk: goto yzIo0; lwlqb: $fields = array_keys($items); goto Wlyk9; bFo_V: return null; goto vRrf6; vRxgJ: aLi4b: goto lXy6u; uhaig: if (array_key_exists($field, $items)) { goto JqfJy; } goto bFo_V; DOGab: FG7N2: goto QVNA2; j1IMe: $items = Cache::get("\x73\171\163\164\145\155\x5f\163\x65\164\164\x69\156\x67"); goto f63wp; cp5WP: i5f9U: goto vRxgJ; itWLr: if (isset($items[$field])) { goto FG7N2; } goto PprsH; IjIAk: vcNWa: goto WoBmm; PprsH: return null; goto DOGab; e3rm0: return $items; goto RSOOo; C0h3Z: NjssF: goto IjIAk; yzIo0: Cache::set("\x73\171\x73\x74\x65\155\137\x73\145\x74\164\x69\156\147", $items); goto Lsgkf; lHTT1: JqfJy: goto E7_69; lXy6u: $items = dict('', "\163\145\x74\x74\x69\156\147"); goto lwlqb; vRrf6: goto NjssF; goto lHTT1; f63wp: if (!$items) { goto aLi4b; } goto q5lTf; RSOOo: goto i5f9U; goto ZTdrY; WoBmm: } public function saveSetting($datas = array()) { goto YaVYf; EWCCI: foreach ($datas as $data) { goto seQSQ; XichJ: GsHHR: goto M30wp; Tpgyh: ZkRNV: goto mhJpW; yQl09: if (!$state) { goto ZkRNV; } goto XVOsU; u5_22: goto xkLnA; goto vblvs; mhJpW: x1pf8: goto KV8dv; t7_YC: xkLnA: goto yQl09; p6mfG: $state = $this->where(array("\153\x65\171" => $data["\153\x65\171"]))->update($data); goto t7_YC; seQSQ: switch ($data["\153\145\x79"]) { case "\114\x4f\107\111\116\137\x4f\x4e\114\131\x5f\117\x4e\105": $data["\x76\x61\x6c\x75\145"] = $data["\x76\x61\154\x75\x65"] == "\171\x65\163" ? 1 : 0; } goto XichJ; XVOsU: $result = true; goto Tpgyh; vblvs: zjE0U: goto p6mfG; Y5A9C: if (in_array($data["\x6b\145\171"], $allowedKeys)) { goto zjE0U; } goto XwdVn; XwdVn: $state = $this->isUpdate(false)->data($data)->save(); goto u5_22; M30wp: tvWE0: goto Y5A9C; KV8dv: } goto ScgIE; o8Heh: $allowedKeys = $this->where($where)->column("\153\145\171"); goto F1KfJ; e1tKL: $this->clearCache(); goto rfKFZ; ScgIE: FJVxV: goto e1tKL; F1KfJ: $result = false; goto EWCCI; xHjDd: $this->where("\140\153\145\171\140\40\x6e\x6f\x74\40\x69\x6e\x28\47" . implode("\47\x2c\47", $settingField) . "\x27\x29")->delete(); goto rkHKJ; g5hml: return true; goto yZ1qN; Nuscb: if (!empty($fields)) { goto H3Up9; } goto EXXHz; YmHMn: H3Up9: goto umbwr; KR2zA: $fields = dict('', "\163\145\164\x74\151\156\x67"); goto Nuscb; umbwr: $settingField = array_keys($fields); goto xHjDd; rkHKJ: $where = "\140\x6b\145\x79\x60\x20\x69\156\50\47" . implode("\47\x2c\x27", $settingField) . "\x27\51"; goto o8Heh; rfKFZ: return $result; goto xOoEc; yZ1qN: vSYIc: goto KR2zA; YaVYf: if ($datas) { goto vSYIc; } goto g5hml; EXXHz: return false; goto YmHMn; xOoEc: } public function clearCache() { Cache::rm("\163\x79\163\x74\145\x6d\x5f\x73\145\164\x74\151\x6e\147"); } }
