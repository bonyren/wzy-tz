<?php
 namespace app\index\model; use think\Model; class Dropdowns extends Model { public function setItemsAttr($value) { goto idCGw; wXN4T: $items = []; goto m1Z20; m1Z20: foreach ($value as $k => $v) { goto MEIl2; bMxSc: $items[$v["\166\x61\154\165\145"]] = $v; goto FMZN7; FMZN7: SUyDu: goto qUALa; qUALa: hYdD8: goto BGPfv; MEIl2: if (!($v["\166\x61\154\x75\145"] !== '' && $v["\x6c\x61\142\145\154"] !== '')) { goto SUyDu; } goto bMxSc; BGPfv: } goto V248g; fxc3P: dASIN: goto CrZYF; V248g: iNCA_: goto P01Zz; P01Zz: $value = empty($items) ? '' : json_encode(array_values($items), JSON_UNESCAPED_UNICODE); goto fxc3P; idCGw: if (!(!empty($value) && is_array($value))) { goto dASIN; } goto wXN4T; CrZYF: return $value; goto vfycP; vfycP: } public function getItemsAttr($value) { goto nPDcc; nPDcc: if (empty($value)) { goto GOcO3; } goto DD3Q0; hDyEA: qGVKJ: goto KJQ5o; KJQ5o: return $value; goto uvrQq; DD3Q0: $value = json_decode($value, true); goto pYBLr; YeGUC: $value = []; goto hDyEA; pYBLr: goto qGVKJ; goto m_p3i; m_p3i: GOcO3: goto YeGUC; uvrQq: } public static function getItems($field, $index = false) { goto SZzKb; de3Fl: MfP3S: goto nlPS5; XGyON: $items = $row->items; goto F57Ns; lFpro: goto GuHU4; goto oB5Th; pKbJg: URH4q: goto lFpro; oB5Th: Gw8fS: goto Nie2W; SZzKb: $row = self::get(["\146\x69\x65\154\x64" => $field]); goto NM0Nr; QmK9_: return $items; goto XCBpQ; H0djG: $data = []; goto YCsqK; F57Ns: if (!$index) { goto URH4q; } goto H0djG; Nie2W: $items = []; goto fzbJe; YCsqK: foreach ($items as $v) { $data[$v["\x76\x61\154\x75\145"]] = $v["\154\x61\142\x65\154"]; tSeL4: } goto de3Fl; nlPS5: $items = $data; goto pKbJg; NM0Nr: if (empty($row) || empty($row->items)) { goto Gw8fS; } goto XGyON; fzbJe: GuHU4: goto QmK9_; XCBpQ: } public static function getLabel($field, $value) { goto MFbaY; MFbaY: $items = self::getItems($field); goto Ucg6x; gLFWH: foreach ($items as $v) { goto EDPWY; yWyCe: GAC5R: goto rAi6A; XzAUU: $label = $v["\x6c\141\x62\x65\x6c"]; goto uUMvc; EDPWY: if (!($v["\166\141\154\x75\145"] == $value)) { goto GAC5R; } goto XzAUU; rAi6A: JbC0E: goto RuxVj; uUMvc: goto ym4B2; goto yWyCe; RuxVj: } goto nJxLj; Ucg6x: $label = ''; goto gLFWH; wC8in: return $label; goto KI5bP; nJxLj: ym4B2: goto wC8in; KI5bP: } public function saveDropdown($id, $data) { goto CFivV; CDNXO: exception("\345\255\x97\xe6\256\xb5\xe9\207\215\xe5\244\215"); goto PHFBV; FIkZe: zR8BM: goto BtXFM; HA_MC: $row = self::get(["\x66\x69\145\154\144" => $data["\x66\x69\x65\154\x64"]]); goto xokaE; xokaE: if (!$row) { goto qSH3h; } goto CDNXO; bLO87: $this->save($data, ["\151\x64" => $id]); goto FIkZe; EbbPe: $this->save($data); goto eBnCy; CFivV: if ($id) { goto O0v0h; } goto HA_MC; pgQuA: O0v0h: goto bLO87; PHFBV: qSH3h: goto EbbPe; eBnCy: goto zR8BM; goto pgQuA; BtXFM: } }
