<?php
 namespace app\index\logic; use think\Db; class Knowledges extends Base { const TABLE = "\153\156\157\167\154\x65\x64\x67\x65\163"; public function load($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x69\x64", $order = "\x64\x65\163\143") { goto nScAD; SYlQE: if (emptyInArray($search, "\156\x61\155\x65")) { goto BlCX2; } goto yvzul; lSBw3: D8HaU: goto kEk1r; grKST: BlCX2: goto N1eYt; QoGUR: if (!empty($count)) { goto D8HaU; } goto vcX6W; vcX6W: return []; goto lSBw3; nScAD: $order = $sort . "\x20" . $order; goto KAZ1L; N1eYt: $count = Db::table(self::TABLE)->where($where)->count(); goto QoGUR; yvzul: $where["\156\x61\155\x65"] = ["\154\151\153\x65", "\45" . $search["\x6e\141\x6d\145"] . "\45"]; goto grKST; KAZ1L: $where = ["\x64\x65\x6c\145\164\145\144" => 0]; goto SYlQE; kEk1r: $items = Db::table(self::TABLE)->where($where)->page($page, $rows)->order($order)->select(); goto yb_bs; yb_bs: return ["\x74\157\164\x61\154" => $count, "\162\157\167\163" => $items]; goto BRGuG; BRGuG: } public function getRow($id) { goto NIfvI; SS1GO: $row = Db::table(self::TABLE)->where("\151\144", $id)->find(); goto s1Km9; NIfvI: if (!empty($id)) { goto n_Kiv; } goto iUnF2; iUnF2: return false; goto yVDP9; s1Km9: return $row; goto E3s6m; yVDP9: n_Kiv: goto SS1GO; E3s6m: } public function getDefaultRow() { return ["\156\x61\155\145" => '', "\x64\145\x73\143\162\x69\x70\164\151\157\156" => '', "\151\x64" => 0]; } public function saveRow($id, $data) { goto m03_7; Ys9ax: exception("\346\x99\xba\xe5\272\x93\xe5\220\215\xe7\247\xb0\xe4\xb8\x8d\xe8\x83\xbd\344\xb8\xba\347\xa9\xba"); goto WDQvW; n6qxo: exception("\346\x99\xba\xe5\xba\223\xe5\x90\215\xe7\xa7\260\344\270\215\xe8\203\275\344\270\272\xe7\xa9\xba"); goto zuTgM; fOHWw: Db::table(self::TABLE)->where("\x69\144", $id)->update($data); goto f3jXL; abdNb: $data["\156\141\155\x65"] = trim($data["\156\141\x6d\x65"]); goto PjBny; v2OxG: UmLKP: goto EZrG6; w081i: $id = Db::table(self::TABLE)->insert($data, false, true); goto v2OxG; m03_7: $data["\x63\162\145\141\x74\x65\144\137\142\x79"] = \app\index\service\RequestContext::I()->loginUserId; goto KfnLL; EZrG6: return $id; goto J7rie; PjBny: if (!empty($data["\x6e\x61\x6d\x65"])) { goto RggpA; } goto n6qxo; zuTgM: RggpA: goto w081i; hvecT: W9DS9: goto abdNb; OfXPS: if (!(isset($data["\x6e\141\x6d\x65"]) && empty($data["\156\141\x6d\145"]))) { goto M4rQV; } goto Ys9ax; f3jXL: goto UmLKP; goto hvecT; WDQvW: M4rQV: goto fOHWw; KfnLL: if (empty($id)) { goto W9DS9; } goto OfXPS; J7rie: } public function delete($id) { $result = Db::table(self::TABLE)->where("\x69\144", $id)->setField("\x64\x65\154\145\164\145\x64", 1); return $result > 0 ? true : false; } }
