<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; class Milestones extends Base { public function load($category, $recordId) { $records = Db::table("\x6d\151\x6c\x65\x73\164\x6f\156\145\x73")->where(["\x63\141\164\x65\147\157\162\x79" => $category, "\162\145\143\x6f\162\144\x5f\151\x64" => $recordId])->order("\155\x69\x6c\x65\163\x74\157\156\x65\137\x69\144\x20\x61\x73\x63")->field(true)->select(); return $records; } public function save($category, $recordId, $occurDate, $desc) { goto lZlJ_; lZlJ_: $model = new \app\index\model\Milestones(["\143\x61\x74\145\x67\x6f\162\171" => $category, "\x72\x65\x63\x6f\162\144\137\151\x64" => $recordId, "\157\x63\143\165\x72\x5f\x64\x61\x74\145" => $occurDate, "\x64\145\163\143" => $desc]); goto eHYI3; eHYI3: $model->save(); goto zbFSq; zbFSq: return $model->milestone_id; goto hvWAo; hvWAo: } public function delete($category, $recordId) { \app\index\model\Milestones::destroy(["\143\141\x74\145\147\x6f\x72\x79" => $category, "\162\x65\143\x6f\x72\144\x5f\151\144" => $recordId]); return true; } }
