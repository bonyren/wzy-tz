<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; use app\index\logic\Defs; use app\index\service\EventLogs; use app\index\logic\FundsFinance as FundsFinanceLogic; class Dd extends Base { public function load($page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x66\x75\x6e\144\x5f\x69\144", $order = "\x61\x73\x63") { goto rQ5lL; NQDiV: aGFbg: goto hxY1v; Q2fVm: goto aGFbg; goto LnpZK; i1G5H: foreach ($records as &$record) { goto JWhKK; SXKub: $record["\160\x72\x6f\x6a\145\x63\164\x5f\x61\155\157\165\156\164"] = $projectStatistic["\x61\155\157\x75\156\164"]; goto sj6uY; ASM4w: $record["\x61\143\x74\165\x61\x6c\x5f\x73\151\x7a\145"] = $actualSize; goto eYVQq; jHPDZ: $actualPaidAmount = 0.0; goto DTme1; MoPk7: $actualSize = 0.0; goto gyNuk; vzQ6v: $projectStatistic = $fundsFinanceLogic->getEnterpriseStatisticByFund($fundId); goto xHSkp; cOz3P: $actualSize = Db::table("\x66\x75\156\x64\x73\x5f\x70\141\x72\x74\x6e\145\162\163")->where("\146\x75\156\144\x5f\151\144", $fundId)->sum("\141\x6d\157\x75\156\x74"); goto rKtTh; D4W0s: $fundsFinanceLogic = FundsFinanceLogic::newObj(); goto vzQ6v; rKtTh: if (!($actualSize === null)) { goto qgiDX; } goto MoPk7; JWhKK: $fundId = $record["\x66\x75\156\x64\137\151\144"]; goto cOz3P; sj6uY: ilog8: goto Hrmxm; DTme1: mhebR: goto ASzg5; UzJ3E: $record["\143\157\x6d\x70\141\x6e\171\137\156\141\x6d\x65"] = "\x78\x78\x78\xe7\xa7\x91\346\x8a\200\xe6\x8a\x95\350\xb5\204\347\xae\241\xe7\x90\x86\346\234\211\351\231\x90\xe5\205\254\xe5\217\xb8"; goto D4W0s; eYVQq: $actualPaidAmount = Db::table("\x66\x75\156\x64\163\x5f\x66\151\x6e\141\x6e\x63\145\x5f\x63\x6f\156\x74\x72\151\142\165\164\145\x73")->where("\x66\x66\x63\x5f\x69\144", "\x69\x6e", function ($query) use($fundId) { $query->table("\146\165\x6e\144\163\137\x70\x61\x72\x74\x6e\145\162\x73\x5f\160\x61\x69\144")->alias("\x46\120\x50")->join("\146\165\x6e\x64\x73\137\x70\141\162\x74\x6e\145\x72\163\40\x46\120", "\106\120\x50\56\146\x70\x5f\151\x64\x3d\x46\120\56\146\x70\x5f\151\x64")->where("\x46\120\56\146\165\156\x64\137\151\x64", $fundId)->field("\106\120\120\56\146\x66\143\x5f\x69\144"); })->sum("\x61\x6d\157\165\156\x74"); goto CFnZL; gyNuk: qgiDX: goto ASM4w; CFnZL: if (!($actualPaidAmount === null)) { goto mhebR; } goto jHPDZ; ASzg5: $record["\141\143\x74\165\141\x6c\137\x70\141\x69\x64\137\163\151\x7a\x65"] = $actualPaidAmount; goto UzJ3E; xHSkp: $record["\x70\x72\x6f\x6a\x65\x63\x74\137\143\x6f\x75\x6e\164"] = $projectStatistic["\143\157\165\x6e\x74"]; goto SXKub; Hrmxm: } goto CAbgd; hxY1v: $conditions = []; goto miHKs; LnpZK: sixPr: goto fjUZP; xK7Eq: $order = "\146\x75\156\144\137\x69\x64\x20\141\x73\x63"; goto Q2fVm; miHKs: $totalCount = Db::table("\x66\165\x6e\x64\163")->where($conditions)->count(); goto BcR4o; BcR4o: $records = Db::table("\146\x75\156\144\x73")->where($conditions)->limit($limit)->order($order)->field(true)->select(); goto i1G5H; CAbgd: GNn6d: goto dYbdM; rmLlR: if ($sort == "\x66\165\156\x64\x5f\151\144") { goto sixPr; } goto xK7Eq; rQ5lL: $limit = ($page - 1) * $rows . "\x2c" . $rows; goto rmLlR; fjUZP: $order = "\x66\x75\x6e\x64\x5f\x69\x64\40" . $order; goto NQDiV; dYbdM: return ["\164\157\x74\141\154" => $totalCount, "\x72\157\x77\163" => $records]; goto UAYMM; UAYMM: } }
