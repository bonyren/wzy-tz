<?php
 namespace app\index\logic; use think\Debug; use think\Db; use think\Log; use think\Session; use app\index\logic\Defs; class Dashboard extends Base { protected function __construct() { parent::__construct(); } public function loadStatistic() { goto deHjw; mDh4M: return $statistic; goto UrfPv; jnc1G: $statistic["\164\x6f\164\x61\x6c\x45\x6e\x74\145\162\160\162\x69\x73\x65\x49\x6e\x76\x65\x73\x74\145\144\x43\157\x75\156\x74"] = Db::table("\x65\156\164\x65\162\160\x72\x69\163\145\163")->where("\163\164\145\x70", 4)->count(); goto lnowR; wrs1h: $statistic["\x74\x6f\164\x61\154\106\x75\x6e\144\x4d\141\156\141\x67\145\103\157\165\156\x74"] = Db::table("\146\165\156\x64\163")->where("\163\x74\x61\x74\x75\x73", \app\index\logic\Funds::FUND_MANAGE_STATUS)->count(); goto o0iHB; o0iHB: $statistic["\164\157\x74\x61\x6c\x45\x6e\x74\145\x72\160\162\151\163\x65\x43\157\x75\156\164"] = Db::table("\x65\156\164\145\162\160\162\x69\x73\x65\163")->count(); goto jnc1G; NihYq: $statistic["\x74\157\164\x61\x6c\x46\165\x6e\x64\103\157\x75\x6e\x74"] = Db::table("\146\x75\156\x64\163")->count(); goto wrs1h; g6aeF: $statistic["\164\157\x74\141\x6c\x4c\160\111\156\x76\145\163\164\145\x64"] = Db::table("\x70\141\162\x74\x6e\x65\x72\x73")->where("\164\x79\x70\x65", "\151\x6e", [Defs::PARTNER_LIMITED_INDIVIDUAL_TYPE, Defs::PARTNER_LIMITED_INSTITUTIONAL_TYPE])->where("\x70\x5f\x69\x64", "\151\156", function ($query) { $query->table("\146\x75\156\x64\163\x5f\160\141\162\x74\x6e\145\162\163")->field("\x70\x5f\151\x64"); })->count(); goto RsgGS; lnowR: $statistic["\164\157\x74\x61\154\x4c\x70\103\x6f\x75\x6e\x74"] = Db::table("\160\x61\162\164\156\145\162\163")->where("\164\x79\160\145", "\151\156", [Defs::PARTNER_LIMITED_INDIVIDUAL_TYPE, Defs::PARTNER_LIMITED_INSTITUTIONAL_TYPE])->count(); goto g6aeF; deHjw: $statistic = ["\x74\x6f\164\141\154\x46\165\156\144\103\x6f\x75\x6e\x74" => 0, "\x74\157\x74\x61\x6c\106\165\156\144\x4d\141\156\x61\x67\145\103\x6f\x75\156\x74" => 0, "\x74\x6f\x74\x61\x6c\105\x6e\164\x65\x72\x70\x72\x69\x73\145\103\157\x75\156\164" => 0, "\x74\x6f\164\x61\154\105\x6e\164\x65\x72\160\162\x69\163\145\x49\x6e\x76\x65\x73\x74\145\x64\103\x6f\165\156\x74" => 0, "\164\157\x74\x61\154\114\160\103\157\x75\156\164" => 0, "\x74\157\164\x61\154\x4c\160\x49\156\166\x65\x73\164\145\144" => 0, "\x74\x6f\164\x61\154\124\x61\x6c\x65\156\x74\103\157\165\156\164" => 0]; goto NihYq; RsgGS: $statistic["\x74\157\164\141\x6c\x54\x61\x6c\145\156\x74\x43\157\x75\156\x74"] = Db::table("\143\x6f\156\x74\141\143\164\163")->count(); goto mDh4M; UrfPv: } public function loadFundLatest() { $records = Db::table("\x70\162\157\147\162\145\x73\x73\x5f\154\157\x67\x73")->alias("\x50")->join("\146\x75\156\x64\x73\40\106", "\x50\56\145\170\164\x65\162\156\141\x6c\x5f\x69\144\x3d\x46\x2e\x66\165\156\144\137\x69\144", "\x4c\105\106\124")->join("\x61\144\155\x69\x6e\163\x20\x41", "\x50\56\x61\x64\x6d\151\x6e\x5f\151\x64\75\x41\56\141\x64\x6d\x69\x6e\x5f\x69\x64", "\114\105\106\124")->field("\120\56\x6f\x63\143\x75\x72\x5f\144\141\x74\145\x2c\40\120\x2e\x74\x69\x74\x6c\x65\x2c\40\106\x2e\156\141\x6d\x65\54\x20\101\x2e\162\x65\141\x6c\x6e\x61\x6d\145")->where("\120\x2e\x63\141\x74\x65\x67\x6f\x72\x79", "\x69\156", [\app\index\logic\ProgressLogs::PROGRESS_LOG_FUND_MANAGE_CATEGORY, \app\index\logic\ProgressLogs::PROGRESS_LOG_FUND_MANAGE_CATEGORY])->order("\x6f\143\143\165\x72\x5f\x64\141\164\x65\x20\x64\x65\163\x63")->limit(100)->select(); return $records; } public function loadEnterpriseLatest() { $records = Db::table("\160\162\x6f\x67\162\145\x73\x73\x5f\x6c\157\147\163")->alias("\120")->join("\x65\156\x74\x65\x72\160\162\151\x73\x65\163\40\105", "\x50\x2e\x65\x78\164\145\x72\156\141\154\137\x69\x64\x3d\105\56\151\144", "\x4c\x45\x46\124")->join("\x61\144\x6d\151\156\x73\x20\x41", "\x50\x2e\141\x64\x6d\x69\156\x5f\151\144\75\101\x2e\141\x64\x6d\151\156\x5f\x69\144", "\x4c\x45\106\124")->field("\x50\x2e\157\x63\143\x75\x72\x5f\x64\x61\x74\x65\x2c\40\x50\x2e\x74\151\164\x6c\145\x2c\x20\x45\x2e\156\x61\x6d\145\54\x20\101\56\162\145\x61\154\x6e\x61\155\145")->where("\x50\56\x63\141\164\x65\x67\157\x72\171", "\x69\156", [\app\index\logic\ProgressLogs::PROGRESS_LOG_INVESTED_SUPPORT_CATEGORY, \app\index\logic\ProgressLogs::PROGRESS_LOG_INVESTED_ACTIVITY_CATEGORY])->order("\157\143\143\165\x72\137\144\141\164\x65\x20\x64\145\x73\x63")->limit(100)->select(); return $records; } }
