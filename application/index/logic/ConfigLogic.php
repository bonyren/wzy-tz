<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; use app\index\model\ConfigBusinessRegProxy; use app\index\model\ConfigFundHostingAgency; use app\index\model\ConfigScientistField; class ConfigLogic extends Base { protected function __construct() { parent::__construct(); } public function loadBusinessRegProxys($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\151\144", $order = "\x64\x65\163\143") { goto bdjxh; pHYmx: GsoEB: goto DsY2y; bdjxh: $limit = ($page - 1) * $rows . "\x2c" . $rows; goto XGKbe; rV7cx: $conditions["\156\x61\x6d\145"] = ["\154\x69\x6b\x65", "\45" . $search["\156\x61\x6d\145"] . "\x25"]; goto pHYmx; ppqZR: lX03A: goto wj5qj; ZPz9r: goto izGUg; goto ppqZR; Phg18: izGUg: goto Q4XRp; YWgqt: return ["\164\x6f\x74\141\154" => $totalCount, "\x72\x6f\167\163" => $records]; goto UJT_U; XGKbe: if ($sort == "\x69\x64") { goto lX03A; } goto rYFpm; DsY2y: $totalCount = Db::table("\x63\157\x6e\146\151\147\x5f\142\x75\163\x69\156\x65\x73\x73\x5f\x72\145\x67\x5f\x70\x72\x6f\x78\171")->where($conditions)->count(); goto jCrwI; HM3f9: if (emptyInArray($search, "\x6e\141\x6d\145")) { goto GsoEB; } goto rV7cx; rYFpm: $order = "\151\144\x20\144\145\163\143"; goto ZPz9r; Q4XRp: $conditions = []; goto HM3f9; jCrwI: $records = Db::table("\143\x6f\156\146\151\147\x5f\142\x75\x73\x69\156\145\163\163\x5f\162\145\x67\137\160\x72\x6f\x78\171")->where($conditions)->limit($limit)->order($order)->field("\151\x64\x2c\xd\12\x20\40\x20\x20\40\40\40\40\x20\x20\40\40\156\x61\x6d\x65\x2c\xd\xa\x20\x20\40\x20\40\x20\x20\x20\x20\40\x20\40\154\x69\x6e\x6b\155\x61\x6e\x2c\xd\xa\x20\40\40\x20\40\40\40\40\x20\40\40\x20\x74\x65\x6c\x2c\xd\12\40\x20\40\40\x20\40\x20\x20\40\40\40\40\145\156\164\x65\162\x65\144")->select(); goto YWgqt; wj5qj: $order = "\151\144\40" . $order; goto Phg18; UJT_U: } public function loadBusinessRegProxyComboDatas() { goto fYdm9; ZLyY8: array_unshift($records, ["\x69\x64" => 0, "\156\x61\x6d\x65" => "\55\x2d\346\234\xaa\347\x9f\xa5\55\55", "\154\x69\x6e\153\155\x61\156" => '', "\x74\145\154" => '']); goto GFwet; wpOGa: $records = Db::table("\143\x6f\156\146\151\147\137\142\165\x73\151\x6e\145\x73\163\x5f\x72\x65\x67\137\160\x72\x6f\x78\x79")->where($conditions)->order("\x65\156\x74\145\162\145\x64\40\x61\x73\x63")->field("\x69\x64\54\xd\12\40\40\40\x20\40\x20\x20\x20\40\40\40\40\x6e\141\155\x65\54\15\12\x20\x20\40\40\x20\40\40\40\x20\x20\x20\x20\154\x69\156\153\155\x61\x6e\x2c\xd\12\40\40\40\x20\40\x20\x20\x20\40\40\40\x20\164\145\x6c\x2c\xd\xa\x20\40\x20\x20\40\x20\x20\x20\40\40\x20\x20\x65\156\x74\x65\162\145\x64")->select(); goto ZLyY8; fYdm9: $conditions = []; goto wpOGa; GFwet: return $records; goto mhOSE; mhOSE: } public function getBusinessRegProxyInfos($id) { $infos = Db::table("\x63\157\156\146\x69\x67\x5f\x62\x75\163\x69\156\145\163\163\x5f\162\145\147\x5f\160\x72\157\170\171")->where("\151\144", $id)->field(true)->find(); return $infos; } public function addBusinessRegProxy($infos) { goto fyg7s; JNVJD: $model->entered = date("\x59\x2d\x6d\55\x64\x20\110\72\151\x3a\163"); goto v7dPv; JpVEk: $model->tel = !emptyInArray($infos, "\x74\145\154") ? $infos["\164\x65\x6c"] : ''; goto JNVJD; sC2cu: $model->linkman = !emptyInArray($infos, "\x6c\151\156\153\x6d\141\x6e") ? $infos["\154\151\x6e\153\x6d\x61\x6e"] : ''; goto JpVEk; P_wW2: return true; goto akEbx; bURNf: $model->name = !emptyInArray($infos, "\156\141\x6d\x65") ? $infos["\x6e\x61\x6d\145"] : ''; goto sC2cu; v7dPv: $model->save(); goto P_wW2; fyg7s: $model = model("\x43\157\x6e\146\x69\x67\102\x75\x73\x69\156\x65\x73\x73\x52\x65\147\x50\x72\157\170\171"); goto bURNf; akEbx: } public function editBusinessRegProxy($id, $infos) { goto pRlP3; LlJbd: return false; goto crokD; xTfpN: $model->tel = !emptyInArray($infos, "\x74\x65\x6c") ? $infos["\164\145\154"] : ''; goto qBwYq; Y31tP: $model->name = !emptyInArray($infos, "\x6e\x61\x6d\x65") ? $infos["\156\x61\x6d\145"] : ''; goto ZKXUF; j4l1W: $model->save(); goto JBRHX; pRlP3: $model = ConfigBusinessRegProxy::get($id); goto kGm9Z; ZKXUF: $model->linkman = !emptyInArray($infos, "\x6c\151\x6e\x6b\155\141\156") ? $infos["\154\151\x6e\x6b\x6d\x61\156"] : ''; goto xTfpN; qBwYq: $model->entered = date("\x59\x2d\x6d\x2d\144\40\110\72\x69\x3a\163"); goto j4l1W; kGm9Z: if ($model) { goto w4Dlc; } goto LlJbd; crokD: w4Dlc: goto Y31tP; JBRHX: return true; goto j0cn9; j0cn9: } public function deleteBusinessRegProxy($id) { goto f3UHO; eoO_6: $model->delete(); goto EV4xi; EV4xi: return true; goto w900s; f3UHO: $model = ConfigBusinessRegProxy::get($id); goto eoO_6; w900s: } public function loadFundHostingAgencies($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\151\144", $order = "\144\145\x73\x63") { goto ql3Qr; ROOru: imakY: goto BRQYv; swjC6: return ["\164\x6f\164\x61\154" => $totalCount, "\162\157\167\163" => $records]; goto k6e56; dV5DW: $totalCount = Db::table("\143\x6f\156\146\151\147\x5f\146\165\x6e\x64\x5f\x68\157\x73\x74\x69\x6e\x67\137\x61\x67\145\156\x63\x79")->where($conditions)->count(); goto AJ5rn; WIDQq: $order = "\x69\144\40\x64\145\163\143"; goto wnnau; BRQYv: $order = "\x69\x64\40" . $order; goto I35eD; IU6E7: $conditions = []; goto cvMQC; rmB5h: $conditions["\x6e\141\x6d\x65"] = ["\154\x69\153\x65", "\45" . $search["\156\141\155\145"] . "\45"]; goto xXzoF; wnnau: goto fDbvS; goto ROOru; xXzoF: EWIK3: goto dV5DW; cvMQC: if (emptyInArray($search, "\x6e\141\155\x65")) { goto EWIK3; } goto rmB5h; ql3Qr: $limit = ($page - 1) * $rows . "\54" . $rows; goto NLUq4; I35eD: fDbvS: goto IU6E7; AJ5rn: $records = Db::table("\x63\x6f\x6e\146\x69\147\x5f\x66\165\x6e\x64\x5f\150\x6f\163\164\151\x6e\x67\x5f\x61\x67\145\156\143\x79")->where($conditions)->limit($limit)->order($order)->field("\151\x64\54\xd\12\x20\40\40\x20\x20\40\x20\40\x20\40\40\40\x6e\x61\155\145\54\xd\xa\40\x20\40\40\40\x20\40\x20\x20\40\40\x20\x6c\151\x6e\x6b\x6d\x61\x6e\x2c\15\12\x20\x20\x20\x20\40\40\x20\x20\x20\x20\40\40\164\x65\x6c\54\xd\xa\x20\x20\x20\40\40\40\x20\x20\x20\40\x20\40\145\x6e\164\x65\x72\145\x64")->select(); goto swjC6; NLUq4: if ($sort == "\x69\x64") { goto imakY; } goto WIDQq; k6e56: } public function loadFundHostingAgencyComboDatas() { goto VzZY_; VzZY_: $conditions = []; goto af_jS; af_jS: $records = Db::table("\x63\x6f\156\x66\x69\x67\137\146\x75\156\x64\x5f\150\157\163\164\x69\156\147\137\141\x67\x65\x6e\143\x79")->where($conditions)->order("\145\x6e\x74\x65\162\145\x64\40\141\163\x63")->field("\151\144\54\15\12\40\40\x20\40\40\x20\40\x20\x20\x20\40\40\156\141\155\145\54\15\xa\40\40\40\40\x20\x20\x20\40\40\x20\x20\x20\154\x69\156\153\155\x61\156\x2c\15\12\x20\40\x20\x20\40\x20\40\40\x20\x20\40\x20\164\145\154\54\xd\xa\40\40\40\40\40\x20\x20\x20\x20\x20\x20\x20\145\156\x74\x65\162\x65\x64")->select(); goto Zv6AZ; Zv6AZ: array_unshift($records, ["\151\x64" => 0, "\156\141\155\145" => "\x2d\x2d\xe6\234\252\xe7\237\245\55\x2d", "\154\x69\156\153\x6d\141\x6e" => '', "\164\x65\x6c" => '']); goto Q1YJ0; Q1YJ0: return $records; goto dEC3N; dEC3N: } public function getFundHostingAgencyInfos($id) { $infos = Db::table("\143\x6f\x6e\146\x69\x67\137\x66\165\156\x64\137\150\157\x73\164\151\156\147\137\141\147\145\156\143\171")->where("\x69\144", $id)->field(true)->find(); return $infos; } public function addFundHostingAgency($infos) { goto lF6aR; zDchB: return true; goto cE2P8; lF6aR: $model = model("\x43\x6f\x6e\x66\151\147\x46\x75\x6e\144\110\157\x73\164\151\156\x67\101\147\x65\x6e\143\x79"); goto N17BC; HqhzL: $model->save(); goto zDchB; N17BC: $model->data(["\156\x61\155\145" => !emptyInArray($infos, "\156\141\155\x65") ? $infos["\x6e\141\x6d\145"] : '', "\x6c\151\x6e\x6b\155\x61\x6e" => !emptyInArray($infos, "\154\x69\156\153\155\141\x6e") ? $infos["\154\151\156\x6b\155\x61\x6e"] : '', "\164\x65\154" => !emptyInArray($infos, "\164\x65\154") ? $infos["\x74\x65\154"] : '', "\145\156\164\145\162\x65\144" => date("\x59\55\x6d\55\144\x20\x48\72\151\x3a\x73")]); goto HqhzL; cE2P8: } public function editFundHostingAgency($id, $infos) { goto wKBEH; FjZUq: return true; goto FRFkU; uk9lI: $model->save(["\x6e\x61\x6d\x65" => !emptyInArray($infos, "\156\x61\155\145") ? $infos["\x6e\141\155\145"] : '', "\154\151\156\153\x6d\x61\156" => !emptyInArray($infos, "\154\x69\156\153\155\141\x6e") ? $infos["\154\151\x6e\x6b\x6d\x61\156"] : '', "\164\x65\154" => !emptyInArray($infos, "\164\145\x6c") ? $infos["\x74\145\154"] : '', "\x65\x6e\164\x65\162\x65\144" => date("\131\55\155\55\144\40\x48\x3a\151\x3a\x73")], ["\x69\x64" => $id]); goto FjZUq; wKBEH: $model = new ConfigFundHostingAgency(); goto uk9lI; FRFkU: } public function deleteFundHostingAgency($id) { ConfigFundHostingAgency::destroy($id); return true; } public function loadScientistFields($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x69\144", $order = "\144\x65\163\x63") { goto QZifJ; QZifJ: $limit = ($page - 1) * $rows . "\54" . $rows; goto FCrK2; m8X_A: $conditions = []; goto nPC1b; nwa6d: $order = "\151\x64\x20\x64\x65\x73\x63"; goto bXeXt; nPC1b: if (emptyInArray($search, "\156\x61\155\145")) { goto eQ0bE; } goto q9W22; FCrK2: if ($sort == "\151\x64") { goto Awa2c; } goto nwa6d; AJUGQ: NpHV2: goto m8X_A; paJEa: $records = Db::table("\143\157\156\146\x69\x67\137\163\143\151\x65\x6e\164\151\x73\164\x5f\146\x69\x65\154\x64")->where($conditions)->limit($limit)->order($order)->field("\x69\144\54\xd\xa\x20\40\40\40\x20\x20\40\x20\40\x20\x20\40\156\x61\155\x65\x2c\xd\12\40\x20\x20\x20\40\x20\x20\x20\40\x20\x20\x20\145\x6e\164\x65\162\145\x64")->select(); goto I_Wc5; q9W22: $conditions["\156\141\155\145"] = ["\x6c\x69\x6b\145", "\45" . $search["\156\x61\155\145"] . "\45"]; goto SINXd; y_y7k: $totalCount = Db::table("\143\157\156\146\x69\x67\137\x73\143\x69\x65\156\x74\x69\x73\164\x5f\x66\x69\145\154\x64")->where($conditions)->count(); goto paJEa; ILvML: Awa2c: goto WhLc4; bXeXt: goto NpHV2; goto ILvML; WhLc4: $order = "\x69\x64\x20" . $order; goto AJUGQ; I_Wc5: return ["\164\157\x74\141\x6c" => $totalCount, "\162\x6f\167\163" => $records]; goto J9qqz; SINXd: eQ0bE: goto y_y7k; J9qqz: } public function loadScientistFieldComboDatas() { goto CPdT_; y85jk: return $records; goto OrNMK; BxRHY: array_unshift($records, ["\x69\x64" => 0, "\156\x61\155\x65" => "\x2d\55\xe6\x9c\252\xe7\237\xa5\x2d\55"]); goto y85jk; CPdT_: $conditions = []; goto srDkC; srDkC: $records = Db::table("\143\x6f\x6e\146\151\x67\137\x73\x63\151\145\156\164\x69\163\164\x5f\x66\x69\145\x6c\144")->where($conditions)->order("\145\x6e\x74\x65\x72\145\x64\40\141\163\x63")->field("\151\x64\54\xd\xa\40\40\x20\x20\x20\x20\x20\x20\x20\x20\40\40\x6e\x61\x6d\x65")->select(); goto BxRHY; OrNMK: } public function getScientistFieldInfos($id) { goto z_8yY; HBYKF: return false; goto E7KMi; E7KMi: Lbt3A: goto zjJ9f; gyAqu: if ($infos) { goto Lbt3A; } goto HBYKF; z_8yY: $infos = Db::table("\143\157\x6e\x66\x69\147\137\163\x63\x69\145\x6e\x74\151\x73\164\x5f\x66\x69\145\154\144")->where("\x69\144", $id)->field(true)->find(); goto gyAqu; zjJ9f: return $infos; goto WIZDh; WIZDh: } public function saveScientistField($id = 0, $infos) { goto tGSJO; qtWHW: return true; goto vxsC1; tGSJO: $model = model("\x43\x6f\x6e\146\x69\x67\123\x63\x69\x65\x6e\x74\151\x73\x74\x46\151\145\154\144"); goto AJkJR; f7D19: $model->save(); goto DOH1n; AJkJR: if ($id) { goto R0Q4U; } goto OW36x; DOH1n: goto fiAEg; goto fSNI1; fSNI1: R0Q4U: goto haFpU; haFpU: $model->save(["\x6e\x61\x6d\x65" => !emptyInArray($infos, "\x6e\141\x6d\145") ? $infos["\x6e\x61\155\145"] : ''], ["\151\x64" => $id]); goto WO9XO; WO9XO: fiAEg: goto qtWHW; OW36x: $model->data(["\x6e\141\x6d\x65" => !emptyInArray($infos, "\156\x61\x6d\x65") ? $infos["\156\x61\155\x65"] : '']); goto f7D19; vxsC1: } public function deleteScientistField($id) { ConfigScientistField::destroy($id); return true; } }
