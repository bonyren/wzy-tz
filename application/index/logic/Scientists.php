<?php
 namespace app\index\logic; use think\Db; use think\Debug; use think\Log; use app\index\model\Scientists as ScientistsModel; class Scientists extends Base { public function load($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = '', $order = '') { goto BUIcH; Og58f: return ["\x74\x6f\164\141\x6c" => $totalCount, "\162\157\x77\x73" => $records]; goto OMu0b; I2B_k: goto r3u_R; goto zvbsH; EQQGE: $order = "\151\144\x20" . $order; goto qd9Lh; nf_Q2: Qwl6M: goto s752C; fPC18: $order = "\x69\144\40\144\x65\163\x63"; goto I2B_k; iX1oz: foreach ($records as &$record) { goto uCatU; oH8QK: WtLLb: goto lcCce; SdWVH: I7_Qh: goto WRAvm; h4JdD: $record["\146\151\145\154\x64\x5f\164\145\170\x74"] = ''; goto HzYM2; NIXnU: $record["\x66\151\145\x6c\144\137\x74\145\x78\x74"] = implode("\54", Db::table("\x63\157\x6e\x66\151\147\137\163\x63\151\x65\x6e\164\x69\163\x74\137\146\x69\145\x6c\x64")->where("\x69\144", "\151\156", $fields)->column("\156\141\x6d\x65")); goto oH8QK; lcCce: l6VdB: goto liHZW; uCatU: if ($record["\146\151\x65\154\144"]) { goto I7_Qh; } goto h4JdD; WRAvm: $fields = explode("\x2c", $record["\x66\x69\x65\x6c\x64"]); goto NIXnU; HzYM2: goto WtLLb; goto SdWVH; liHZW: } goto TthEP; zvbsH: Gszoc: goto EQQGE; HqR1G: if (emptyInArray($search, "\x6e\141\x6d\x65")) { goto Qwl6M; } goto DMK9y; tQIUr: return ["\164\157\164\x61\154" => 0, "\x72\157\x77\163" => []]; goto j5Vvj; bOOJJ: if (!empty($totalCount)) { goto fZbq6; } goto tQIUr; qd9Lh: r3u_R: goto KPu1N; TthEP: tYPwE: goto Og58f; KPu1N: $conditions = []; goto HqR1G; aHQEA: $records = Db::table("\163\143\x69\x65\156\x74\x69\x73\164\x73")->where($conditions)->page($page, $rows)->order($order)->field(true)->select(); goto iX1oz; DMK9y: $conditions["\x6e\x61\155\145"] = ["\154\x69\x6b\145", "\x25" . $search["\x6e\141\x6d\x65"] . "\45"]; goto nf_Q2; s752C: $totalCount = Db::table("\x73\143\151\x65\x6e\164\x69\x73\164\x73")->where($conditions)->count(); goto bOOJJ; j5Vvj: fZbq6: goto aHQEA; BUIcH: if ($sort == "\151\144") { goto Gszoc; } goto fPC18; OMu0b: } public function save($id = 0, $infos) { goto eH_W5; fofhA: t_yC4: goto ojqAZ; qf7OI: $infos["\x66\x69\145\x6c\x64"] = ''; goto eavHX; ywmt9: $infos["\x66\151\x65\x6c\144"] = implode("\54", $infos["\146\x69\x65\x6c\x64"]); goto jiANz; X6DUM: WfORP: goto ywmt9; fg9l7: exception("\346\227\xa0\xe6\xb3\225\xe6\x89\276\xe5\x88\xb0\xe8\xaf\245\347\247\221\345\xad\xa6\345\xae\xb6"); goto fo0Cy; G7_VJ: eEQFD: goto ratG7; VSSkk: goto t_yC4; goto G7_VJ; jiANz: GXUqf: goto P45mo; Q_OBx: $model = model("\x53\x63\151\x65\x6e\164\151\163\164\x73"); goto uAP31; P45mo: if ($id) { goto eEQFD; } goto Q_OBx; uAP31: $model->data($infos); goto KW6oZ; KW6oZ: $model->allowField(true)->save(); goto VSSkk; fo0Cy: Poixg: goto NE3oz; MiiRZ: if ($model) { goto Poixg; } goto fg9l7; eavHX: goto GXUqf; goto X6DUM; ratG7: $model = ScientistsModel::get($id); goto MiiRZ; NE3oz: $model->data($infos)->allowField(true)->save(); goto fofhA; eH_W5: if (isset($infos["\x66\x69\x65\x6c\144"]) && $infos["\x66\151\145\154\x64"] && is_array($infos["\x66\151\x65\x6c\x64"])) { goto WfORP; } goto qf7OI; ojqAZ: } public function delete($id) { goto nnkxR; HzkB5: exception("\346\227\xa0\346\xb3\x95\xe6\x89\xbe\xe5\x88\260\350\257\245\xe7\xa7\x91\345\xad\xa6\xe5\xae\xb6"); goto z1PSV; z1PSV: Fgu9f: goto dtWiW; dtWiW: $model->delete(); goto v2IEh; nnkxR: $model = ScientistsModel::get($id); goto dEJiR; dEJiR: if ($model) { goto Fgu9f; } goto HzkB5; v2IEh: } public function get($id) { goto ZNcmC; t1MI6: $infos["\146\x69\145\x6c\x64\137\164\145\x78\x74"] = ''; goto aAXss; WKPco: return false; goto p_Jvw; ZNcmC: $infos = Db::table("\163\143\x69\x65\156\x74\151\x73\x74\163")->where("\x69\144", $id)->field(true)->find(); goto D1FOh; Wopbf: if ($infos["\146\x69\145\x6c\x64"]) { goto CfWQz; } goto t1MI6; S2FAQ: return $infos; goto GlD7c; aAXss: goto pOsEN; goto o1Ptg; jWnTd: pOsEN: goto S2FAQ; D1FOh: if ($infos) { goto MTddd; } goto WKPco; EYOBI: $infos["\146\x69\x65\154\144\x5f\x74\145\x78\x74"] = implode("\x2c", Db::table("\x63\x6f\x6e\146\151\147\x5f\163\x63\151\x65\x6e\x74\x69\x73\x74\x5f\x66\151\145\154\x64")->where("\151\x64", "\x69\x6e", $fields)->column("\156\x61\x6d\x65")); goto jWnTd; o1Ptg: CfWQz: goto LY_NY; p_Jvw: MTddd: goto Wopbf; LY_NY: $fields = explode("\54", $infos["\x66\x69\x65\x6c\144"]); goto EYOBI; GlD7c: } public function getDefault() { return ["\x6e\x61\x6d\145" => '', "\146\151\145\154\x64" => '', "\160\x6c\141\x63\145" => '', "\x63\x6f\x6e\x74\x61\143\164\137\167\x61\171" => '', "\142\x72\151\x65\x66\x5f\151\156\164\x72\x6f\144\165\x63\x74\x69\x6f\156" => '', "\143\x6f\x72\x65\137\x74\x65\x63\x68" => '']; } }
