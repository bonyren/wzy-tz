<?php
 namespace app\index\controller; use app\index\service\EventLogs; use think\Controller; use think\Db; use think\Log; class EventLog extends Common { public function getList($entity = 0, $search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS) { goto jnW8S; IB0Sg: if (!empty($total)) { goto KDIA6; } goto unY4G; unY4G: return []; goto P7U1a; axdRU: return ["\x74\157\x74\x61\x6c" => $total, "\162\157\x77\x73" => $rows]; goto gQTcC; YyqDW: eHRVM: goto LFf_F; jnW8S: $where = []; goto hBy_q; fSw2a: $where["\x65\156\x74\x69\164\x79\137\x74\171\x70\145"] = $entity; goto YyqDW; LFf_F: $total = Db::table("\145\x76\145\x6e\x74\137\x6c\x6f\x67\163")->where($where)->count(); goto IB0Sg; P7U1a: KDIA6: goto tbuLG; mCfUE: EventLogs::showLogs($rows); goto axdRU; tbuLG: $rows = Db::table("\x65\166\145\156\164\x5f\x6c\157\x67\163")->where($where)->page($page, $rows)->order("\151\144\x20\x64\x65\163\x63")->select(); goto mCfUE; hBy_q: if (!$entity) { goto eHRVM; } goto fSw2a; gQTcC: } public function globals($entity = 0, $search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS) { goto Mg3gM; Mg3gM: if (!$this->request->isPost()) { goto gJDS8; } goto AK5JH; AK5JH: return json($this->getList($entity, $search, $page, $rows)); goto PqXd_; eV6jb: return $this->fetch(); goto IDQHG; PqXd_: gJDS8: goto eV6jb; IDQHG: } }
