<?php
 namespace app\index\controller; require_once SITE_DIR . "\57\56\x2e\57\x76\x65\156\144\x6f\x72\x2f\141\165\164\x6f\154\x6f\141\144\56\160\x68\160"; use PHPMailer\PHPMailer\PHPMailer; use PHPMailer\PHPMailer\Exception; class Email extends Common { public function test() { } public function send($tpl, $recipients, $data = array()) { goto Wo1vA; edRO_: $parse = $this->parse($tpl, $data); goto nlEli; Gq0Bv: $mail = new PHPMailer(); goto edRO_; LyIOE: try { goto MHtax; v_ukO: $mail->isSMTP(); goto lBxAy; kbzHs: $mail->setFrom($conf["\x66\x72\x6f\x6d\x5f\141\x64\x64\162\145\163\x73"], $conf["\x66\162\x6f\x6d\137\x6e\141\x6d\145"]); goto fSOCE; QsMLJ: $mail->isHTML(true); goto DRtQD; Nt4hu: return true; goto NHCax; r6PXw: pcM5k: goto QsMLJ; EuiVU: $mail->SMTPSecure = "\163\163\154"; goto TQXqQ; TQXqQ: $mail->Port = 465; goto kbzHs; dBzNu: $mail->Body = $parse["\142\x6f\144\x79"]; goto ppmd4; bIP_U: $mail->Password = $conf["\160\141\x73\x73\x77\157\162\144"]; goto EuiVU; DRtQD: $mail->Subject = $parse["\x73\x75\142\x6a\x65\x63\164"]; goto dBzNu; ppmd4: $mail->send(); goto Nt4hu; Vnw6u: $mail->SMTPAuth = true; goto J__9c; fSOCE: foreach ($recipients as $to_address) { $mail->addAddress($to_address); nnHnc: } goto r6PXw; J__9c: $mail->Username = $conf["\165\x73\145\x72\156\x61\155\145"]; goto bIP_U; MHtax: $mail->CharSet = "\x55\124\x46\55\70"; goto OTHQN; OTHQN: $mail->SMTPDebug = 0; goto v_ukO; lBxAy: $mail->Host = $conf["\x73\155\164\x70"]; goto Vnw6u; NHCax: } catch (Exception $e) { return $mail->ErrorInfo; } goto t7FTW; NoUw9: VZvke: goto LyIOE; wO2yT: $recipients = explode("\54", $recipients); goto NoUw9; nlEli: if (is_array($recipients)) { goto VZvke; } goto wO2yT; Wo1vA: $conf = config("\x6d\141\151\x6c\x65\x72"); goto Gq0Bv; t7FTW: } public function parse($tpl, $data = array()) { goto YbP0B; IUqFb: $json = $this->fetch("\145\x6d\x61\x69\x6c\x2f\164\160\x6c\x5f" . $tpl); goto AR0fB; YbP0B: $this->assign("\142\x69\156\x64", $data); goto IUqFb; AR0fB: return json_decode($json, true); goto kHnOC; kHnOC: } }
