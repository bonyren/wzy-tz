<?php
 namespace app\index\controller; use think\Controller; use think\Log; use think\Debug; use think\Request; use app\index\logic\Defs; class Partners extends Common { public function partners($type = Defs::PARTNER_ALL_TYPE, $status = Defs::PARTNER_ALL_STATUS, $search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x70\x5f\x69\x64", $order = "\x64\145\163\x63") { goto iNd3y; h_6ue: $this->assign("\165\x72\x6c\x48\162\145\x66\163", $urlHrefs); goto xBQqP; Xd78S: return json($partnersLogic->load($type, $status, $search, $page, $rows, $sort, $order)); goto HLlnq; xBQqP: return $this->fetch(); goto eVVwt; iNd3y: if (!request()->isGet()) { goto pH5yN; } goto YzBwR; I9Swk: $partnersLogic = \app\index\logic\Partners::newObj(); goto Xd78S; YzBwR: $urlHrefs = ["\160\x61\162\164\156\x65\x72\x73" => url("\x69\x6e\144\145\170\57\x50\x61\x72\164\x6e\145\162\163\57\x70\x61\x72\x74\156\145\x72\x73", ["\164\x79\160\145" => $type, "\163\164\x61\164\x75\x73" => $status]), "\x61\144\144" => url("\151\x6e\x64\x65\x78\x2f\120\141\x72\164\156\145\x72\163\57\x61\x64\x64", ["\164\x79\160\145" => $type, "\163\164\x61\164\x75\x73" => $status]), "\145\x64\151\x74" => url("\x69\x6e\144\145\170\57\120\x61\162\164\x6e\145\x72\163\57\145\144\151\164"), "\x64\145\x6c\145\164\x65" => url("\151\156\144\145\x78\57\x50\x61\162\x74\156\x65\162\163\x2f\x64\x65\154\x65\164\145"), "\166\x69\x65\167" => url("\151\156\144\145\x78\x2f\x50\141\x72\164\156\145\162\x73\57\x76\151\x65\167"), "\x70\141\x73\163\x77\x6f\162\x64" => url("\151\156\x64\x65\x78\57\x50\141\162\x74\x6e\145\162\x73\x2f\x70\141\x73\163\x77\x6f\162\x64"), "\160\141\162\x74\156\x65\x72\x73\x50\162\x6f\147\x72\145\163\x73" => url("\x69\x6e\x64\145\170\57\x50\x72\x6f\147\x72\x65\163\x73\x4c\x6f\147\163\x2f\x69\156\144\145\x78", ["\143\x61\x74\x65\x67\157\162\171" => \app\index\logic\ProgressLogs::PROGRESS_LOG_PARTNER_CATEGORY])]; goto h_6ue; eVVwt: pH5yN: goto I9Swk; HLlnq: } public function choosePartner($type = Defs::PARTNER_ALL_TYPE, $search = array()) { goto lOg4U; aRc0x: $partnersLogic = \app\index\logic\Partners::newObj(); goto O2Xq2; r3G_b: $this->assign("\165\162\x6c\x48\x72\x65\146\x73", $urlHrefs); goto ZyIrA; lOg4U: if (!request()->isGet()) { goto zPegW; } goto wM1g6; O2Xq2: return json($partnersLogic->loadAll($type, $search)); goto tVbzh; ZyIrA: return $this->fetch(); goto fWekU; fWekU: zPegW: goto aRc0x; wM1g6: $urlHrefs = ["\143\150\157\x6f\x73\x65\120\x61\x72\164\156\x65\x72" => url("\x69\156\144\x65\x78\x2f\x50\x61\162\164\x6e\x65\162\x73\x2f\143\x68\x6f\157\163\x65\120\141\x72\164\x6e\x65\162", ["\x74\x79\160\145" => $type])]; goto r3G_b; tVbzh: } public function add($type, $status = Defs::PARTNER_PENDING_STATUS) { goto zPZOq; d46S5: if ($result) { goto sSDhX; } goto EXXzJ; lHiDd: $this->assign("\163\x74\141\x74\165\163", $status); goto JcpZM; F7Q1F: $this->assign("\x75\x72\154\x48\x72\x65\x66\163", $urlHrefs); goto lHiDd; KZSIc: $result = $partnersLogic->add($type, $infos); goto d46S5; lP5Bq: $partnersLogic = \app\index\logic\Partners::newObj(); goto KZSIc; y9shF: yLa4V: goto M_xBL; EXXzJ: return ajaxError("\xe5\244\xb1\xe8\xb4\245"); goto BsPNH; JcpZM: return $this->fetch(); goto QxLHZ; cGg1N: sSDhX: goto MbKbC; MbKbC: return ajaxSuccess("\346\x88\x90\xe5\212\x9f"); goto y9shF; QCI0C: $infos = input("\160\157\163\x74\56\x69\156\146\x6f\163\x2f\x61"); goto lP5Bq; zPZOq: if (!request()->isGet()) { goto dDbYZ; } goto M7ajo; QxLHZ: dDbYZ: goto QCI0C; M7ajo: $urlHrefs = []; goto F7Q1F; BsPNH: goto yLa4V; goto cGg1N; M_xBL: } public function edit($pId) { goto hXi42; jqPGE: $this->assign("\x75\162\154\x48\x72\145\x66\163", $urlHrefs); goto pLMlA; j4o9c: return ajaxSuccess("\xe6\210\x90\345\x8a\x9f"); goto iVeOm; fHIjz: if (!request()->isGet()) { goto eam10; } goto hfcLD; qUiK_: $bindValues = ["\x69\156\146\x6f\x73" => $infos]; goto PeX2v; irHQb: $urlHrefs = ["\141\164\x74\141\143\x68\155\x65\x6e\164\x73" => url("\x69\156\144\145\x78\57\x50\141\x72\x74\x6e\x65\162\163\57\x61\x74\164\x61\x63\x68\155\145\156\x74\x73", ["\160\111\144" => $pId])]; goto jqPGE; oyoS7: return $this->fetch("\x63\x6f\155\155\x6f\156\57\x65\162\x72\157\162"); goto hzGOf; x76Fk: $infos = input("\x70\x6f\163\x74\56\x69\x6e\146\157\x73\57\141"); goto hQVfe; WPB81: if ($infos) { goto tis67; } goto oyoS7; hfcLD: $infos = $partnersLogic->getInfos($pId); goto WPB81; GtVeO: if ($result) { goto W42g4; } goto nptNF; iNs13: eam10: goto x76Fk; pLMlA: return $this->fetch(); goto iNs13; PeX2v: $this->assign("\x62\151\156\144\126\x61\x6c\x75\x65\x73", $bindValues); goto irHQb; hzGOf: tis67: goto qUiK_; hQVfe: $result = $partnersLogic->edit($pId, $infos); goto GtVeO; hXi42: $partnersLogic = \app\index\logic\Partners::newObj(); goto fHIjz; nptNF: return ajaxError("\345\xa4\261\350\xb4\xa5"); goto UuuTD; LxYi3: W42g4: goto j4o9c; iVeOm: jUwGm: goto dt7Nw; UuuTD: goto jUwGm; goto LxYi3; dt7Nw: } public function delete($pId) { goto dQzIT; dQzIT: $partnersLogic = \app\index\logic\Partners::newObj(); goto XIoSJ; Iy06q: h6omV: goto q2oEJ; vjZzH: return ajaxError("\xe5\xa4\261\xe8\xb4\xa5"); goto WAw4C; WAw4C: goto h6omV; goto pCf4Q; XDKAJ: if ($result) { goto BmnTT; } goto vjZzH; zDMXi: return ajaxSuccess("\xe6\210\220\345\x8a\237"); goto Iy06q; pCf4Q: BmnTT: goto zDMXi; XIoSJ: $result = $partnersLogic->delete($pId); goto XDKAJ; q2oEJ: } public function view($pId) { goto cvdwt; FqqTz: if ($infos) { goto i6vSN; } goto dnQ7d; Y2Y52: $infos = $partnersLogic->getInfos($pId); goto FqqTz; zScJb: $this->assign("\x62\x69\156\x64\126\141\154\x75\x65\x73", $bindValues); goto GSPQe; GSPQe: $urlHrefs = ["\x61\x74\164\141\143\150\x6d\x65\x6e\164\x73" => url("\151\156\x64\145\x78\x2f\120\141\x72\x74\x6e\145\162\163\57\141\x74\164\141\x63\x68\x6d\x65\x6e\164\163", ["\x70\111\x64" => $pId, "\x72\x65\141\x64\117\x6e\154\171" => 1]), "\x66\165\156\144\163" => url("\x69\x6e\144\x65\170\x2f\x50\x61\162\164\156\x65\162\163\x2f\x66\x75\156\144\x73", ["\160\x49\144" => $pId]), "\x64\151\166\151\x64\145\156\x64\163" => url("\x69\x6e\144\145\170\57\x50\x61\x72\x74\156\145\162\x73\x2f\144\151\166\x69\x64\145\156\144\x73", ["\x70\111\x64" => $pId])]; goto Zoie5; cvdwt: $partnersLogic = \app\index\logic\Partners::newObj(); goto BoSPm; MW7wA: i6vSN: goto ONFmq; ouuy7: return $this->fetch(); goto oCROM; Zoie5: $this->assign("\165\162\154\110\x72\145\146\x73", $urlHrefs); goto ouuy7; oCROM: mgumL: goto T5FzT; dnQ7d: return $this->fetch("\x63\x6f\x6d\155\157\156\x2f\145\162\x72\x6f\162"); goto MW7wA; ONFmq: $bindValues = ["\151\156\146\x6f\163" => $infos]; goto zScJb; BoSPm: if (!request()->isGet()) { goto mgumL; } goto Y2Y52; T5FzT: } public function password($pId) { goto QNXHD; fCzq8: $bindValues = ["\x69\156\x66\157\x73" => $infos]; goto ulflp; Q2Aam: return $this->fetch(); goto fxFJM; IWm2M: if ($infos) { goto s3UNs; } goto MT4k8; fxFJM: gZGPi: goto hpZTm; ulflp: $this->assign("\x62\151\156\x64\126\141\154\165\x65\163", $bindValues); goto Q2Aam; BMB1X: s3UNs: goto fCzq8; Hz2AK: return ajaxSuccess("\346\x88\x90\xe5\212\x9f"); goto yBr2A; QNXHD: $partnersLogic = \app\index\logic\Partners::newObj(); goto ur8MR; d6QUF: $infos = $partnersLogic->getInfos($pId); goto IWm2M; dWCLV: try { $partnersLogic->password($pId, $infos); } catch (\Exception $e) { return ajaxError($e->getMessage()); } goto Hz2AK; hpZTm: $infos = input("\x70\157\x73\x74\x2e\x69\156\x66\157\163\57\x61"); goto dWCLV; ur8MR: if (!request()->isGet()) { goto gZGPi; } goto d6QUF; MT4k8: return $this->fetch("\x63\x6f\x6d\155\x6f\x6e\x2f\145\x72\x72\157\x72"); goto BMB1X; yBr2A: } public function attachments($pId, $readOnly = 0) { goto L1VBz; FUrG9: BCfDi: goto WLxjP; cqp5X: goto BCfDi; goto BAEVh; DFWmz: $this->assign("\165\x72\x6c\x48\162\145\x66\163", $urlHrefs); goto RJpaW; RJpaW: return $this->fetch(); goto Gexu5; L1VBz: if ($readOnly) { goto xxfhW; } goto c9ZpM; O36Ix: $attachesUrl = url("\151\x6e\x64\x65\170\57\125\160\154\157\141\144\57\x76\151\145\x77\x41\x74\x74\x61\143\x68\x65\163", ["\x61\164\x74\141\143\x68\155\145\x6e\164\x54\171\160\x65" => \app\index\logic\Upload::ATTACH_PARTNER, "\x65\x78\x74\x65\162\x6e\x61\x6c\x49\x64" => $pId, "\x75\x69\123\164\x79\154\x65" => \app\index\controller\Upload::ATTACHES_UI_DATAGRID_STYLE]); goto FUrG9; c9ZpM: $attachesUrl = url("\x69\x6e\144\145\x78\57\125\x70\x6c\x6f\x61\x64\x2f\141\x74\x74\141\x63\x68\x65\163", ["\141\x74\x74\141\x63\x68\155\x65\156\x74\124\x79\160\145" => \app\index\logic\Upload::ATTACH_PARTNER, "\145\x78\164\x65\x72\156\141\x6c\111\x64" => $pId, "\165\x69\x53\x74\x79\x6c\145" => \app\index\controller\Upload::ATTACHES_UI_DATAGRID_STYLE]); goto cqp5X; WLxjP: $urlHrefs = ["\x61\164\164\x61\x63\x68\x6d\145\x6e\x74\x73" => $attachesUrl]; goto DFWmz; BAEVh: xxfhW: goto O36Ix; Gexu5: } public function funds($pId) { goto jss0f; jHuFb: return json($partnersLogic->loadFunds($pId)); goto CkcoA; GYRxo: $this->assign("\x75\162\154\110\x72\145\146\163", $urlHrefs); goto dXV8q; dXV8q: return $this->fetch(); goto LcEjg; jss0f: if (!request()->isGet()) { goto FvW7G; } goto NbCQR; NbCQR: $urlHrefs = ["\x66\165\156\144\x73" => url("\151\156\x64\145\x78\57\120\141\x72\x74\156\145\x72\163\57\x66\165\x6e\x64\163", ["\x70\111\144" => $pId]), "\x66\165\x6e\x64\x45\x6e\164\x65\x72\x70\162\151\x73\145\x73" => url("\x69\156\x64\x65\x78\57\106\x75\156\144\163\57\x66\165\x6e\144\163\111\x6e\x76\145\163\x74\x50\x72\x6f\x6a\145\x63\164\163")]; goto GYRxo; LcEjg: FvW7G: goto feYYy; feYYy: $partnersLogic = \app\index\logic\Partners::newObj(); goto jHuFb; CkcoA: } public function dividends($pId) { goto jCID1; jCID1: if (!request()->isGet()) { goto CmOzB; } goto R280q; tBhNI: CmOzB: goto f6NBJ; R280q: return $this->fetch(); goto tBhNI; f6NBJ: } }
