<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; use app\index\logic\Defs; class Partners extends Base { protected function __construct() { parent::__construct(); } public function load($type = Defs::PARTNER_ALL_TYPE, $status = Defs::PARTNER_ALL_STATUS, $search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x70\137\151\x64", $order = "\144\x65\163\143") { goto EZDJe; X8X5A: GPaYi: goto npQQ7; n3hOr: $conditions["\x73\x74\141\164\x75\163"] = $status; goto CsaJn; wJhfe: goto ZHtJQ; goto hYoJ_; t7wLq: $order = "\x70\137\151\144\x20\144\x65\x73\x63"; goto wJhfe; npQQ7: if (!$status) { goto jtHEb; } goto n3hOr; sy7La: $conditions = []; goto lsK1S; hYoJ_: pEI4z: goto rupXn; tUA5W: Ysc4S: goto o2_Pm; PkXNm: foreach ($records as &$record) { goto h0a0G; h0a0G: $pId = $record["\160\x5f\151\144"]; goto Rt8yZ; aGjY3: $record["\x70\x72\157\147\x72\145\x73\x73\137\154\x6f\x67"] = $progressLog["\164\x69\x74\154\145"] . "\40\74\x73\160\141\156\x20\x63\154\x61\x73\x73\75\x22\154\x61\x62\145\154\x20\154\141\x62\145\154\x2d\x70\162\x69\155\x61\x72\x79\42\76" . $progressLog["\x72\x65\x61\x6c\156\141\155\145"] . "\74\57\x73\x70\141\x6e\76\x20\55\x20\74\x73\160\x61\x6e\x20\x63\x6c\141\x73\163\75\x22\142\141\x64\147\145\40\x62\141\144\x67\x65\55\x73\x65\143\x6f\156\x64\x61\162\171\42\76" . $progressLog["\x65\x6e\164\145\162\145\144"] . "\74\x2f\x73\160\141\x6e\x3e"; goto SHp84; DH2Ty: $record["\164\x6f\164\141\x6c\137\146\x75\x6e\144\x5f\x63\157\165\156\x74"] = Db::table("\x66\165\156\144\x73\137\160\x61\162\164\156\x65\162\163")->where("\160\137\151\x64", $pId)->count("\104\111\x53\124\x49\x4e\x43\x54\40\x66\x75\x6e\x64\x5f\x69\x64"); goto QsV24; QI1Ab: mlhLw: goto AQVMd; SrUJK: if ($progressLog) { goto zErsw; } goto sNAHt; Rt8yZ: $progressLog = Db::table("\160\162\x6f\x67\x72\145\x73\x73\x5f\154\157\147\163")->alias("\x50")->join("\141\144\155\151\156\163\x20\x41", "\x50\x2e\x61\x64\x6d\151\x6e\137\x69\x64\x3d\101\56\x61\144\155\x69\156\x5f\x69\144", "\x4c\x45\x46\124")->where(["\120\56\145\170\x74\145\x72\x6e\141\154\x5f\x69\x64" => $pId, "\120\56\143\141\164\x65\147\157\x72\x79" => \app\index\logic\ProgressLogs::PROGRESS_LOG_PARTNER_CATEGORY])->order("\120\56\x6d\x6f\144\151\x66\151\145\x64\x20\144\145\x73\x63")->field("\120\x2e\x74\x69\164\154\x65\54\40\x50\56\x65\x6e\x74\162\171\x2c\x20\120\56\x65\x6e\164\x65\162\x65\x64\54\x20\101\56\x72\x65\x61\x6c\156\141\x6d\145")->find(); goto SrUJK; SHp84: RzOla: goto ItZBr; sNAHt: $record["\x70\x72\x6f\147\162\145\163\163\x5f\154\x6f\147"] = "\55"; goto W9Nya; C64LM: $record["\x74\157\x74\x61\154\137\160\x61\x69\x64\x5f\x61\155\157\x75\156\x74"] = Db::table("\146\165\x6e\x64\x73\137\160\141\162\x74\156\x65\162\163")->alias("\x46\120")->join("\146\x75\156\144\x73\x5f\x70\141\x72\164\156\145\162\163\x5f\160\x61\151\144\x20\106\120\120", "\x46\120\56\146\160\137\x69\144\x3d\x46\120\120\56\146\160\x5f\151\x64")->join("\x66\x75\156\x64\163\137\x66\151\156\x61\156\x63\145\x5f\143\x6f\156\x74\x72\151\x62\x75\x74\x65\163\40\106\106\x43", "\106\120\120\56\x66\x66\143\x5f\x69\x64\x3d\x46\x46\103\56\x66\146\x63\137\151\144")->where("\106\x50\56\x70\137\x69\x64", $pId)->sum("\106\106\103\x2e\141\x6d\157\x75\x6e\164"); goto DH2Ty; ItZBr: $record["\x74\157\x74\x61\154\x5f\141\155\x6f\x75\156\164"] = Db::table("\x66\x75\156\144\163\137\x70\141\162\164\156\x65\162\x73")->where("\x70\x5f\151\x64", $pId)->sum("\141\x6d\x6f\x75\156\x74"); goto C64LM; W9Nya: goto RzOla; goto ug2pV; ug2pV: zErsw: goto aGjY3; QsV24: $record["\164\x6f\164\141\154\x5f\145\156\x74\x65\162\160\x72\151\163\145\137\x63\x6f\165\156\164"] = Db::table("\x66\x75\x6e\144\x73\x5f\160\141\x72\164\156\145\x72\163")->alias("\x46\120")->where("\106\120\56\160\x5f\x69\144", $pId)->join("\146\x75\156\144\x73\x5f\x65\x6e\x74\x65\x72\x70\162\x69\x73\x65\163\x20\x46\105", "\106\120\x2e\146\x75\x6e\x64\137\151\x64\x3d\x46\105\x2e\146\x75\x6e\144\x5f\151\144")->count("\x44\111\123\124\x49\116\x43\x54\40\x65\156\164\x65\162\x70\x72\151\x73\x65\x5f\x69\144"); goto QI1Ab; AQVMd: } goto xBqr6; rupXn: $order = "\x70\x5f\x69\x64\x20" . $order; goto GNalf; o2_Pm: $totalCount = Db::table("\x70\x61\162\x74\x6e\x65\x72\x73")->where($conditions)->count(); goto XIxA9; E_cWe: if (emptyInArray($search, "\x6e\141\155\x65")) { goto Ysc4S; } goto WjGjm; EZDJe: $limit = ($page - 1) * $rows . "\54" . $rows; goto xtpg4; CsaJn: jtHEb: goto E_cWe; lsK1S: if (!$type) { goto GPaYi; } goto O7zp1; O7zp1: $conditions["\x74\x79\160\x65"] = $type; goto X8X5A; xBqr6: JTWT_: goto VfamO; VfamO: return ["\x74\157\x74\x61\154" => $totalCount, "\x72\x6f\167\163" => $records]; goto U_oxR; XIxA9: $records = Db::table("\x70\141\162\x74\x6e\145\x72\163")->where($conditions)->limit($limit)->order($order)->field(true)->select(); goto PkXNm; WjGjm: $conditions["\x6e\141\x6d\145"] = ["\x6c\x69\x6b\145", "\45" . $search["\156\x61\x6d\x65"] . "\45"]; goto tUA5W; xtpg4: if ($sort == "\x70\x5f\151\x64") { goto pEI4z; } goto t7wLq; GNalf: ZHtJQ: goto sy7La; U_oxR: } public function loadAll($type = Defs::PARTNER_ALL_TYPE, $search = array()) { goto cOTEC; O3yiC: it529: goto Ktxsk; rVtaB: $records = Db::table("\x70\141\x72\x74\x6e\x65\x72\x73")->where($conditions)->order($order)->field(true)->select(); goto sXJaJ; Ktxsk: if (emptyInArray($search, "\156\141\155\x65")) { goto OMuB3; } goto dz87z; dz87z: $conditions["\156\x61\x6d\145"] = ["\x6c\151\153\x65", "\x25" . $search["\x6e\x61\x6d\145"] . "\45"]; goto z4YlZ; z4YlZ: OMuB3: goto rVtaB; sXJaJ: foreach ($records as &$record) { goto Le13V; n2kTE: kMzyW: goto XiMRO; kRsjE: $record["\x70\x72\x6f\x67\162\145\x73\x73\x5f\154\x6f\x67"] = $progressLog["\x65\156\x74\x72\171"] . "\x20\x3c\x73\160\141\156\40\143\154\x61\163\163\75\42\154\x61\142\x65\154\40\x6c\141\x62\145\x6c\x2d\x70\x72\151\155\x61\162\171\x22\x3e" . $progressLog["\162\x65\141\154\156\x61\x6d\x65"] . "\74\x2f\x73\160\x61\x6e\x3e\40\x2d\x20\x3c\x73\160\x61\x6e\40\143\x6c\x61\x73\x73\x3d\x22\x62\x61\144\x67\145\x20\x62\141\144\147\145\55\x73\x65\143\x6f\156\144\x61\162\x79\x22\x3e" . $progressLog["\145\156\164\x65\x72\145\144"] . "\x3c\x2f\x73\x70\141\x6e\x3e"; goto n2kTE; W1LQM: $progressLog = Db::table("\160\x72\157\x67\x72\145\163\x73\137\154\x6f\147\163")->alias("\120")->join("\x61\x64\155\151\x6e\163\40\101", "\120\x2e\141\144\x6d\151\156\137\x69\x64\75\x41\x2e\x61\x64\x6d\x69\156\x5f\x69\144", "\x4c\105\106\124")->where(["\x50\x2e\x65\x78\164\145\x72\x6e\141\154\x5f\x69\144" => $pId, "\x50\x2e\x63\x61\164\x65\147\x6f\x72\x79" => \app\index\logic\ProgressLogs::PROGRESS_LOG_PARTNER_CATEGORY])->order("\120\x2e\x6d\157\144\x69\x66\x69\145\x64\x20\144\x65\x73\143")->field("\120\56\x65\x6e\x74\162\171\54\40\120\56\x65\156\x74\x65\x72\x65\x64\54\40\101\x2e\x72\x65\141\154\156\x61\155\x65")->find(); goto cLLxD; kzqsw: $record["\164\157\x74\141\x6c\137\x70\x61\x69\x64\x5f\141\155\157\165\x6e\x74"] = Db::table("\146\x75\x6e\144\163\x5f\160\141\x72\164\156\x65\162\x73")->alias("\106\120")->join("\x66\x75\156\144\x73\137\160\141\x72\x74\156\145\x72\x73\137\160\x61\x69\144\x20\106\x50\120", "\x46\x50\x2e\x66\x70\x5f\151\x64\x3d\x46\120\x50\x2e\146\160\x5f\151\144")->join("\146\165\x6e\x64\163\x5f\146\x69\x6e\x61\156\x63\145\137\143\157\x6e\164\x72\x69\142\165\164\x65\x73\40\x46\x46\103", "\x46\x50\x50\x2e\x66\146\143\137\x69\x64\75\x46\106\103\56\146\146\143\137\151\144")->where("\x46\120\56\x70\x5f\x69\144", $pId)->sum("\106\x46\x43\x2e\x61\x6d\x6f\x75\x6e\164"); goto smvOt; cLLxD: if ($progressLog) { goto G7Uii; } goto webJG; Le13V: $pId = $record["\160\x5f\151\144"]; goto W1LQM; XiMRO: $record["\164\157\x74\x61\154\x5f\141\x6d\157\x75\x6e\x74"] = Db::table("\x66\x75\156\x64\163\137\160\x61\x72\x74\x6e\x65\162\163")->where("\x70\137\151\x64", $pId)->sum("\x61\x6d\157\165\x6e\x74"); goto kzqsw; UYNRo: o4kCw: goto fvGgf; webJG: $record["\160\162\157\x67\162\x65\163\x73\137\154\x6f\147"] = "\55"; goto luFm1; ZDRxP: G7Uii: goto kRsjE; luFm1: goto kMzyW; goto ZDRxP; smvOt: $record["\164\x6f\x74\x61\x6c\137\146\x75\156\x64\137\143\x6f\x75\x6e\164"] = Db::table("\x66\x75\156\x64\x73\137\x70\x61\x72\x74\156\x65\162\163")->where("\160\x5f\151\x64", $pId)->count("\x44\x49\x53\124\111\116\x43\124\40\x66\x75\x6e\144\x5f\151\x64"); goto IE3Vo; IE3Vo: $record["\164\x6f\x74\141\154\x5f\145\x6e\164\145\162\160\x72\x69\x73\145\x5f\x63\157\165\x6e\x74"] = Db::table("\x66\165\x6e\144\163\x5f\x70\141\162\164\156\145\x72\163")->alias("\106\120")->where("\x46\x50\56\x70\137\151\144", $pId)->join("\x66\x75\156\x64\x73\137\145\156\x74\x65\x72\x70\162\151\x73\145\x73\40\x46\105", "\x46\120\56\x66\x75\x6e\x64\137\x69\144\x3d\106\x45\56\x66\x75\156\144\x5f\151\144")->count("\104\111\123\x54\x49\116\x43\124\40\x65\x6e\x74\145\x72\160\162\151\163\145\x5f\x69\144"); goto UYNRo; fvGgf: } goto q9MOy; iE1tg: $conditions["\164\x79\160\145"] = $type; goto O3yiC; wP47R: return $records; goto iRFye; cOTEC: $order = "\x70\x5f\151\x64\40\144\145\x73\143"; goto neecF; q9MOy: ZWFOE: goto wP47R; nSww8: if (!$type) { goto it529; } goto iE1tg; neecF: $conditions = []; goto nSww8; iRFye: } public function add($type, $infos) { goto QpNGF; MzTF5: $datas["\156\141\155\x65"] = !emptyInArray($infos, "\156\141\x6d\x65") ? $infos["\156\x61\155\x65"] : ''; goto DzOrD; TzMFa: $datas["\x6c\157\x67\x69\156\x5f\156\141\155\x65"] = !emptyInArray($infos, "\x6c\x6f\147\151\156\137\156\141\155\x65") ? $infos["\154\157\147\x69\156\x5f\x6e\x61\x6d\145"] : ''; goto HW_DD; oV8gJ: $model->save(); goto JA560; ksQzI: $datas["\164\x79\160\145"] = $type; goto qQYt3; uK26Q: $datas["\x63\x72\145\x64\x65\x6e\164\x69\141\x6c\137\156\x6f"] = !emptyInArray($infos, "\143\x72\145\144\x65\x6e\x74\x69\x61\x6c\137\x6e\157") ? $infos["\x63\x72\x65\x64\145\156\164\x69\x61\x6c\x5f\156\157"] : ''; goto Pkc7b; v3Eak: $datas["\143\x72\x65\x64\145\156\164\x69\x61\154\x5f\164\x79\x70\145"] = !emptyInArray($infos, "\143\162\x65\x64\145\156\164\x69\x61\154\x5f\164\x79\160\145") ? $infos["\143\x72\x65\x64\x65\x6e\x74\151\141\154\x5f\x74\171\x70\145"] : \app\index\logic\Defs::PARTNER_CREDENTIAL_ID_TYPE; goto uK26Q; QpNGF: $datas = []; goto MzTF5; VXxmr: $model->data($datas); goto oV8gJ; JA560: $newPId = $model->p_id; goto RZtS7; fUNuJ: $datas["\x6e\x6f\164\145"] = !emptyInArray($infos, "\156\157\x74\x65") ? $infos["\156\157\x74\145"] : ''; goto TzMFa; RZtS7: return true; goto QQVv2; DzOrD: $datas["\x74\x65\154"] = !emptyInArray($infos, "\x74\145\154") ? $infos["\164\145\x6c"] : ''; goto vEQme; qPfpv: $datas["\145\x6e\x74\x65\162\x70\162\151\x73\145\x73"] = $infos["\145\x6e\164\145\x72\x70\162\151\x73\x65\163"]; goto fUNuJ; KRsNZ: $datas["\141\x64\144\162\145\163\x73"] = !emptyInArray($infos, "\141\144\144\x72\145\x73\163") ? $infos["\141\144\x64\162\x65\163\163"] : ''; goto v3Eak; HW_DD: $datas["\x6c\157\x67\151\156\137\x70\x61\x73\163\x77\x6f\162\144"] = !emptyInArray($infos, "\x6c\x6f\147\x69\x6e\137\x70\141\x73\163\167\x6f\162\x64") ? md5($infos["\x6c\157\x67\x69\156\137\160\141\x73\163\x77\157\162\144"]) : ''; goto lt2li; vEQme: $datas["\164\x69\164\154\145"] = !emptyInArray($infos, "\164\x69\x74\x6c\145") ? $infos["\x74\x69\164\154\145"] : ''; goto GN9jw; qQYt3: $datas["\163\x74\141\164\x75\163"] = !emptyInArray($infos, "\x73\164\141\x74\x75\x73") ? $infos["\163\x74\141\x74\x75\x73"] : \app\index\logic\Defs::PARTNER_PENDING_STATUS; goto qPfpv; GN9jw: $datas["\145\x6d\x61\x69\154"] = !emptyInArray($infos, "\x65\155\141\151\x6c") ? $infos["\x65\x6d\x61\151\x6c"] : ''; goto KRsNZ; lt2li: $model = model("\120\x61\162\164\156\x65\162\x73"); goto VXxmr; Pkc7b: $datas["\145\x6e\164\x65\x72\x65\144"] = date("\x59\x2d\x6d\x2d\144\40\x48\x3a\151\72\163"); goto ksQzI; QQVv2: } public function edit($pId, $infos) { goto SaA_t; KzG79: return false; goto Nx5ay; Zk_Pm: $datas["\x65\x6d\141\x69\154"] = !emptyInArray($infos, "\145\x6d\141\151\154") ? $infos["\x65\155\x61\x69\154"] : ''; goto dmdAH; DAFM2: $datas["\156\x61\155\145"] = !emptyInArray($infos, "\156\x61\x6d\x65") ? $infos["\156\141\x6d\145"] : ''; goto AqwBI; dmdAH: $datas["\x61\144\144\x72\x65\x73\x73"] = !emptyInArray($infos, "\x61\144\x64\x72\x65\163\163") ? $infos["\x61\144\144\162\x65\163\x73"] : ''; goto eIw3k; eIw3k: $datas["\x63\x72\145\x64\145\156\x74\151\x61\154\137\x74\171\160\145"] = !emptyInArray($infos, "\143\162\145\144\x65\x6e\164\151\141\154\137\x74\171\x70\x65") ? $infos["\x63\x72\x65\x64\145\156\x74\x69\x61\x6c\137\x74\x79\160\145"] : \app\index\logic\Defs::PARTNER_CREDENTIAL_ID_TYPE; goto s0Bsr; JkTHJ: $model = \app\index\model\Partners::get($pId); goto dhvdT; SaA_t: $datas = []; goto DAFM2; AqwBI: $datas["\164\151\164\x6c\145"] = !emptyInArray($infos, "\x74\x69\x74\x6c\145") ? $infos["\164\x69\164\154\x65"] : ''; goto cR3tE; Nx5ay: IaEO0: goto Wm5vK; IZxxo: $datas["\x65\x6e\164\145\162\160\162\x69\x73\145\x73"] = $infos["\145\156\x74\x65\162\160\162\151\x73\x65\163"]; goto R9G6o; R9G6o: $datas["\156\x6f\x74\145"] = !emptyInArray($infos, "\156\x6f\164\145") ? $infos["\156\x6f\164\x65"] : ''; goto JkTHJ; zzv68: $datas["\x73\164\x61\x74\x75\163"] = !emptyInArray($infos, "\x73\164\x61\x74\x75\x73") ? $infos["\163\164\x61\x74\x75\163"] : \app\index\logic\Defs::PARTNER_PENDING_STATUS; goto IZxxo; rQgz8: $model->save(); goto fX7sY; s0Bsr: $datas["\x63\x72\x65\x64\x65\x6e\164\x69\x61\154\x5f\x6e\x6f"] = !emptyInArray($infos, "\143\162\x65\144\x65\x6e\x74\151\141\x6c\x5f\x6e\157") ? $infos["\143\x72\145\x64\x65\x6e\164\x69\141\x6c\137\x6e\x6f"] : ''; goto zzv68; dhvdT: if ($model) { goto IaEO0; } goto KzG79; Wm5vK: $model->data($datas); goto rQgz8; fX7sY: return true; goto wdwpY; cR3tE: $datas["\x74\145\154"] = !emptyInArray($infos, "\164\145\154") ? $infos["\164\145\154"] : ''; goto Zk_Pm; wdwpY: } public function password($pId, $infos) { goto mf8Dx; nsDqU: $model->data(["\x6c\157\x67\151\156\137\x6e\x61\155\145" => !emptyInArray($infos, "\154\x6f\x67\151\156\x5f\x6e\x61\155\145") ? $infos["\x6c\157\147\x69\x6e\137\x6e\141\155\x65"] : '', "\x6c\157\x67\151\156\x5f\x70\141\x73\163\167\157\162\x64" => !emptyInArray($infos, "\x6c\157\x67\x69\x6e\x5f\160\x61\163\x73\x77\157\x72\144") ? md5($infos["\154\x6f\x67\151\x6e\137\160\x61\163\163\x77\157\x72\x64"]) : '']); goto dOwGh; g4LV0: exception("\xe6\211\213\xe6\234\272\345\x8f\267\347\240\201\xe9\x87\x8d\xe5\xa4\215"); goto SI_dI; TvfCT: if (!$check_login_name) { goto pH_oQ; } goto g4LV0; JJo7m: if ($model) { goto R6O48; } goto ht3PV; BlNY4: R6O48: goto jxSiJ; mf8Dx: $model = \app\index\model\Partners::get($pId); goto JJo7m; bL3Pm: return true; goto szZyC; SI_dI: pH_oQ: goto nsDqU; jxSiJ: $check_login_name = \app\index\model\Partners::where(["\x70\137\151\144" => ["\156\145\x71", $pId], "\154\157\x67\151\156\137\156\141\x6d\145" => $infos["\x6c\157\147\151\x6e\137\x6e\x61\x6d\x65"]])->find(); goto TvfCT; ht3PV: exception("\344\xb8\x8d\345\255\230\xe5\234\250\350\257\245\350\256\260\xe5\275\x95"); goto BlNY4; dOwGh: $model->save(); goto bL3Pm; szZyC: } public function delete($pId) { goto Pe36U; Pe36U: $model = \app\index\model\Partners::get($pId); goto oUpqR; RbGz3: return true; goto tOmzV; bCqc2: uhMyF: goto i9BqI; FWasS: return false; goto bCqc2; x3K7n: Db::table("\x66\x75\156\144\x73\x5f\160\141\x72\x74\156\145\162\x73")->where("\x70\x5f\x69\x64", $pId)->delete(); goto RbGz3; LFFPQ: Db::table("\x66\x75\156\x64\163\x5f\160\141\x72\164\x6e\x65\x72\x73\x5f\x70\141\151\144")->where("\x66\160\x5f\x69\x64", "\151\156", function ($query) use($pId) { $query->table("\146\x75\156\144\163\137\160\x61\162\x74\156\x65\x72\163")->where("\x70\x5f\x69\x64", $pId)->field("\x66\160\137\151\144"); })->delete(); goto x3K7n; i9BqI: $model->delete(); goto LFFPQ; oUpqR: if ($model) { goto uhMyF; } goto FWasS; tOmzV: } public function getInfos($lpId) { goto hzSGL; HoFo3: if ($infos) { goto NCmBs; } goto LftJN; hzSGL: $infos = Db::table("\x70\x61\162\164\156\x65\162\x73")->where("\x70\x5f\x69\144", $lpId)->field(true)->find(); goto HoFo3; OWTPf: NCmBs: goto PsknK; LftJN: return false; goto OWTPf; PsknK: return $infos; goto pssZa; pssZa: } public function getPartnerPairs($type) { return Db::table("\x70\141\x72\x74\156\x65\x72\x73")->where("\164\x79\160\145", $type)->column("\160\137\x69\144\x2c\40\x6e\141\x6d\x65"); } public function loadFunds($pId) { goto pxckA; pxckA: $records = Db::table("\146\165\x6e\144\163\x5f\160\x61\162\164\x6e\145\162\x73")->alias("\106\x50")->join("\x66\x75\156\144\x73\x20\106", "\106\x50\56\146\x75\156\x64\137\151\144\75\x46\x2e\146\165\156\144\x5f\x69\144", "\x4c\x45\x46\x54")->where("\106\x50\56\160\x5f\x69\144", $pId)->field("\x46\120\56\x2a\x2c\106\56\156\x61\155\145\x2c\x46\56\x73\x69\x7a\145")->select(); goto a94v8; Z_7rw: bN5C4: goto QrRfh; a94v8: foreach ($records as &$record) { goto vb4BE; vb4BE: $fundSize = $record["\x73\x69\x7a\x65"]; goto tAOLW; tAOLW: if ((float) $fundSize) { goto BtUUu; } goto di1xC; jF29F: if ($actualAmount) { goto yrGZy; } goto yf6jO; s07yd: yrGZy: goto Rkxpc; XWztM: BtUUu: goto nveOK; Rkxpc: $record["\141\x63\x74\165\x61\154\x5f\141\155\x6f\x75\x6e\x74"] = sprintf("\45\x2e\62\146", $actualAmount); goto Q5BKX; Q5BKX: SaMHi: goto O919d; yf6jO: $actualAmount = 0.0; goto s07yd; di1xC: $record["\x73\150\141\x72\145\x5f\160\162\x6f\160\157\x72\164\x69\x6f\x6e"] = ''; goto cFNwT; nveOK: $record["\x73\x68\x61\x72\145\137\x70\162\157\160\x6f\162\x74\x69\x6f\156"] = round($record["\x61\155\157\x75\156\164"] / $fundSize * 100, 2) . "\45"; goto eWuhy; eWuhy: Wkepn: goto II9TC; II9TC: $actualAmount = Db::table("\146\x75\156\x64\163\137\x70\141\162\164\156\145\x72\163\x5f\160\141\x69\144")->alias("\146\160\x70")->join("\x66\x75\x6e\144\163\x5f\x66\x69\x6e\x61\156\x63\x65\137\x63\157\x6e\x74\x72\151\x62\x75\164\x65\163\x20\x66\146\143", "\x66\146\x63\56\x66\x66\143\137\151\x64\75\146\160\160\x2e\146\x66\x63\137\x69\x64")->where("\x66\160\137\x69\144", $record["\x66\160\137\151\x64"])->sum("\x66\146\x63\56\x61\x6d\x6f\x75\x6e\164"); goto jF29F; cFNwT: goto Wkepn; goto XWztM; O919d: } goto Z_7rw; QrRfh: return $records; goto RAWzT; RAWzT: } }
