<?php
 namespace app\index\logic; use think\Debug; use think\Db; use think\Log; use think\Session; use app\index\logic\Defs; class Dashboard extends Base { protected function __construct() { parent::__construct(); } public function loadStatistic() { goto oaGXg; tdD76: $statistic["\x74\157\164\141\154\124\141\x6c\145\156\164\103\157\165\156\x74"] = Db::table("\x63\x6f\x6e\x74\141\x63\x74\x73")->count(); goto e7L7x; oaGXg: $statistic = ["\164\157\x74\141\x6c\106\165\156\x64\x43\157\x75\x6e\x74" => 0, "\x74\157\x74\141\x6c\x46\165\x6e\144\115\141\x6e\141\x67\x65\103\157\165\156\x74" => 0, "\x74\x6f\164\141\154\105\x6e\164\x65\x72\160\162\x69\x73\145\x43\157\165\x6e\x74" => 0, "\x74\x6f\164\x61\154\105\156\x74\x65\162\160\162\x69\163\145\111\x6e\x76\x65\163\x74\x65\x64\x43\x6f\165\156\x74" => 0, "\164\x6f\164\141\154\114\x70\x43\157\165\x6e\164" => 0, "\x74\x6f\x74\141\x6c\114\x70\111\x6e\166\x65\x73\164\x65\x64" => 0, "\164\157\164\x61\x6c\x54\141\154\x65\x6e\164\x43\157\x75\156\x74" => 0]; goto thIWS; wcuHY: $statistic["\x74\x6f\164\141\154\106\165\156\x64\x4d\141\x6e\141\147\x65\x43\x6f\165\x6e\x74"] = Db::table("\x66\x75\x6e\144\163")->where("\163\164\x61\164\165\163", \app\index\logic\Funds::FUND_MANAGE_STATUS)->count(); goto rGhPv; x405S: $statistic["\164\x6f\164\x61\154\x4c\160\103\x6f\165\x6e\164"] = Db::table("\160\x61\x72\x74\x6e\x65\x72\x73")->where("\164\x79\160\145", "\151\x6e", [Defs::PARTNER_LIMITED_INDIVIDUAL_TYPE, Defs::PARTNER_LIMITED_INSTITUTIONAL_TYPE])->count(); goto c4_bk; c4_bk: $statistic["\164\157\164\x61\x6c\x4c\x70\x49\156\x76\x65\x73\164\145\144"] = Db::table("\x70\x61\x72\x74\156\145\162\163")->where("\164\171\x70\145", "\151\156", [Defs::PARTNER_LIMITED_INDIVIDUAL_TYPE, Defs::PARTNER_LIMITED_INSTITUTIONAL_TYPE])->where("\160\137\x69\x64", "\151\x6e", function ($query) { $query->table("\146\165\x6e\144\163\x5f\160\141\x72\x74\x6e\145\x72\163")->field("\160\137\151\x64"); })->count(); goto tdD76; rGhPv: $statistic["\x74\x6f\164\141\154\105\x6e\164\x65\162\x70\x72\x69\x73\x65\103\x6f\x75\x6e\x74"] = Db::table("\145\156\x74\x65\x72\160\162\151\x73\x65\163")->count(); goto Dc_Ja; e7L7x: return $statistic; goto GioLu; thIWS: $statistic["\x74\157\164\141\154\x46\x75\x6e\x64\103\157\165\x6e\164"] = Db::table("\146\165\x6e\x64\163")->count(); goto wcuHY; Dc_Ja: $statistic["\164\x6f\x74\141\154\105\156\x74\145\162\160\162\151\163\x65\111\156\166\145\x73\164\x65\x64\x43\x6f\x75\156\x74"] = Db::table("\x65\156\164\x65\162\x70\x72\x69\163\x65\x73")->where("\163\164\145\x70", 4)->count(); goto x405S; GioLu: } public function loadFundLatest() { $records = Db::table("\x70\162\x6f\x67\x72\145\x73\x73\137\x6c\157\147\163")->alias("\x50")->join("\x66\165\x6e\x64\x73\x20\x46", "\120\x2e\145\170\164\x65\162\x6e\x61\154\137\x69\x64\75\106\56\x66\165\x6e\144\137\151\144", "\x4c\105\x46\x54")->join("\141\x64\x6d\x69\x6e\163\40\x41", "\120\56\141\x64\x6d\x69\156\x5f\x69\144\75\x41\x2e\141\x64\x6d\151\x6e\x5f\x69\144", "\114\x45\106\x54")->field("\120\56\157\143\143\165\x72\x5f\144\141\x74\145\x2c\x20\120\x2e\164\x69\x74\154\x65\54\40\106\56\x6e\141\x6d\x65\x2c\x20\x41\56\162\145\141\154\x6e\141\x6d\x65")->where("\x50\x2e\143\141\x74\x65\x67\x6f\162\x79", "\x69\156", [\app\index\logic\ProgressLogs::PROGRESS_LOG_FUND_COLLECT_CATEGORY, \app\index\logic\ProgressLogs::EVENT_LOG_FUND_MANAGE_CATEGORY])->order("\157\x63\x63\165\162\x5f\x64\141\x74\145\40\x64\x65\163\x63")->limit(100)->select(); return $records; } public function loadEnterpriseLatest() { $records = Db::table("\x70\162\x6f\x67\162\x65\163\x73\137\x6c\x6f\147\163")->alias("\x50")->join("\145\x6e\164\x65\x72\160\162\151\163\145\x73\x20\x45", "\120\56\x65\170\x74\145\x72\156\x61\154\x5f\x69\x64\x3d\105\56\x69\144", "\x4c\105\106\x54")->join("\x61\144\x6d\151\156\163\x20\101", "\x50\x2e\141\144\x6d\x69\156\137\x69\x64\75\x41\x2e\x61\x64\x6d\x69\156\137\x69\x64", "\x4c\105\x46\124")->field("\120\56\x6f\x63\x63\165\x72\137\x64\141\x74\x65\x2c\x20\120\x2e\x74\x69\x74\154\145\54\x20\105\56\156\x61\x6d\145\x2c\40\x41\56\162\x65\x61\154\x6e\141\155\145")->where("\x50\56\x63\x61\164\145\x67\157\x72\171", "\x69\156", [\app\index\logic\ProgressLogs::INVESTED_SUPPORT_CATEGORY, \app\index\logic\ProgressLogs::INVESTED_PROGRESS_CATEGORY])->order("\157\143\143\x75\x72\137\x64\141\x74\145\x20\x64\x65\x73\143")->limit(100)->select(); return $records; } }
