<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; use app\index\model\ConfigBusinessRegProxy; use app\index\model\ConfigFundHostingAgency; use app\index\model\ConfigScientistField; class ConfigLogic extends Base { protected function __construct() { parent::__construct(); } public function loadBusinessRegProxys($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\151\144", $order = "\x64\145\163\143") { goto FvSHI; yCDlm: goto fJ_JV; goto FwxGh; gXYAH: return ["\164\157\x74\141\x6c" => $totalCount, "\162\x6f\x77\x73" => $records]; goto pB6IX; FwxGh: JHih8: goto vWlcs; WcD2V: $conditions["\x6e\x61\x6d\x65"] = ["\154\151\153\145", "\45" . $search["\156\141\155\145"] . "\x25"]; goto l_6Mr; Uat2K: if ($sort == "\151\x64") { goto JHih8; } goto nOzSi; FvSHI: $limit = ($page - 1) * $rows . "\54" . $rows; goto Uat2K; l_6Mr: w1BCy: goto bb4ya; zXBVo: $records = Db::table("\x63\157\x6e\146\x69\x67\137\142\x75\163\151\x6e\145\x73\x73\x5f\162\x65\147\x5f\160\x72\157\170\x79")->where($conditions)->limit($limit)->order($order)->field("\151\x64\54\15\12\40\x20\x20\40\x20\40\40\40\40\40\40\x20\x6e\x61\155\x65\x2c\15\xa\40\40\x20\x20\x20\40\x20\x20\x20\x20\40\40\154\x69\156\x6b\155\x61\156\54\xd\12\40\40\40\x20\40\40\x20\40\40\40\40\40\164\145\x6c\54\15\xa\x20\x20\40\x20\x20\40\x20\40\40\x20\x20\x20\x65\156\164\145\x72\145\144")->select(); goto gXYAH; PCGoP: if (emptyInArray($search, "\156\x61\x6d\145")) { goto w1BCy; } goto WcD2V; vWlcs: $order = "\x69\144\40" . $order; goto tBqxQ; bb4ya: $totalCount = Db::table("\x63\x6f\x6e\x66\x69\147\137\142\x75\163\x69\x6e\145\x73\x73\137\x72\145\147\137\x70\x72\x6f\x78\x79")->where($conditions)->count(); goto zXBVo; nOzSi: $order = "\151\x64\x20\x64\x65\163\143"; goto yCDlm; tBqxQ: fJ_JV: goto fv6mP; fv6mP: $conditions = []; goto PCGoP; pB6IX: } public function loadBusinessRegProxyComboDatas() { goto a0Dou; WHwFA: array_unshift($records, ["\x69\144" => 0, "\x6e\141\x6d\145" => "\xe6\x9c\252\351\x80\211\346\x8b\xa9", "\x6c\151\x6e\153\x6d\141\156" => '', "\164\x65\x6c" => '']); goto ecPiM; yLvPJ: $records = Db::table("\143\x6f\x6e\x66\x69\147\x5f\x62\x75\x73\151\156\x65\x73\x73\x5f\162\x65\x67\137\160\x72\157\x78\171")->where($conditions)->order("\x65\156\x74\x65\x72\x65\x64\x20\141\x73\143")->field("\151\x64\x2c\15\xa\x20\40\x20\x20\40\40\x20\x20\40\x20\40\x20\156\x61\155\145\54\xd\12\40\40\40\x20\40\x20\x20\x20\x20\x20\x20\x20\154\151\156\x6b\155\141\156\x2c\xd\12\40\40\x20\x20\40\40\x20\40\x20\40\x20\40\x74\145\x6c\x2c\xd\12\40\40\x20\x20\40\40\40\40\40\x20\40\x20\x65\156\x74\145\x72\145\144")->select(); goto WHwFA; a0Dou: $conditions = []; goto yLvPJ; ecPiM: return $records; goto dyjm2; dyjm2: } public function getBusinessRegProxyInfos($id) { goto sM6Ub; hGdSp: if ($infos) { goto WxxTY; } goto aN99P; rrBHq: WxxTY: goto xh4Ii; sM6Ub: $infos = Db::table("\143\x6f\156\146\151\147\x5f\x62\x75\x73\x69\x6e\145\x73\163\x5f\x72\x65\147\137\x70\x72\x6f\170\x79")->where("\151\x64", $id)->field(true)->find(); goto hGdSp; xh4Ii: return $infos; goto nZtB9; aN99P: return false; goto rrBHq; nZtB9: } public function addBusinessRegProxy($infos) { goto ewlDS; Fo2hj: $model->linkman = !emptyInArray($infos, "\x6c\151\156\x6b\155\x61\156") ? $infos["\154\151\156\x6b\x6d\141\156"] : ''; goto NJ6Im; h5IZ_: return true; goto W0Ynd; YVPrQ: $model->entered = date("\x59\x2d\155\55\144\40\110\x3a\151\72\x73"); goto FCcDo; ewlDS: $model = model("\103\x6f\156\x66\151\147\x42\165\x73\151\156\x65\163\163\x52\145\x67\x50\162\157\170\x79"); goto W3aAt; W3aAt: $model->name = !emptyInArray($infos, "\156\x61\x6d\x65") ? $infos["\x6e\141\x6d\145"] : ''; goto Fo2hj; FCcDo: $model->save(); goto h5IZ_; NJ6Im: $model->tel = !emptyInArray($infos, "\x74\145\154") ? $infos["\164\x65\154"] : ''; goto YVPrQ; W0Ynd: } public function editBusinessRegProxy($id, $infos) { goto mhHYR; xaQag: return true; goto pwTZ0; cdUeB: zq5Gm: goto EhfvZ; EhfvZ: $model->name = !emptyInArray($infos, "\x6e\141\x6d\145") ? $infos["\x6e\141\x6d\x65"] : ''; goto u3J_F; u3J_F: $model->linkman = !emptyInArray($infos, "\x6c\151\x6e\153\155\x61\x6e") ? $infos["\154\x69\156\153\155\141\156"] : ''; goto g7I3e; mhHYR: $model = ConfigBusinessRegProxy::get($id); goto NR3kN; EnwI4: return false; goto cdUeB; JzuZL: $model->entered = date("\131\55\x6d\55\144\40\x48\x3a\151\72\163"); goto Gc7hL; g7I3e: $model->tel = !emptyInArray($infos, "\x74\x65\154") ? $infos["\164\145\154"] : ''; goto JzuZL; NR3kN: if ($model) { goto zq5Gm; } goto EnwI4; Gc7hL: $model->save(); goto xaQag; pwTZ0: } public function deleteBusinessRegProxy($id) { goto wBGM2; wBGM2: $model = ConfigBusinessRegProxy::get($id); goto aUeqc; QsCwU: return true; goto ZTus0; aUeqc: $model->delete(); goto QsCwU; ZTus0: } public function loadFundHostingAgencies($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x69\144", $order = "\x64\145\x73\143") { goto bmY38; ImTZk: goto BfTdS; goto TLFpv; SLSRT: $conditions = []; goto ohLec; w2NJs: BfTdS: goto SLSRT; WlBqg: $order = "\151\144\40\144\145\163\x63"; goto ImTZk; R284x: $order = "\151\144\40" . $order; goto w2NJs; TLFpv: kTrse: goto R284x; bmY38: $limit = ($page - 1) * $rows . "\x2c" . $rows; goto A7xXN; A7xXN: if ($sort == "\151\x64") { goto kTrse; } goto WlBqg; b1vR2: $conditions["\156\141\155\x65"] = ["\x6c\x69\153\x65", "\45" . $search["\156\141\155\145"] . "\x25"]; goto RLiJ1; XFfme: $totalCount = Db::table("\143\x6f\156\146\x69\x67\137\x66\165\x6e\x64\137\x68\x6f\163\x74\x69\156\x67\x5f\x61\147\x65\156\143\171")->where($conditions)->count(); goto i320H; ohLec: if (emptyInArray($search, "\x6e\x61\x6d\x65")) { goto TKcNv; } goto b1vR2; RLiJ1: TKcNv: goto XFfme; i320H: $records = Db::table("\143\x6f\156\146\151\x67\137\x66\165\x6e\144\x5f\x68\157\x73\x74\151\156\147\x5f\141\x67\145\156\x63\171")->where($conditions)->limit($limit)->order($order)->field("\151\144\x2c\15\xa\40\x20\x20\40\40\40\40\x20\40\x20\40\x20\x6e\x61\155\x65\54\15\12\x20\x20\x20\x20\40\x20\x20\x20\40\40\40\40\154\x69\x6e\153\x6d\141\156\x2c\15\xa\40\40\x20\x20\x20\x20\x20\x20\x20\x20\40\40\x74\145\154\54\xd\xa\40\40\40\x20\40\40\x20\40\x20\x20\x20\40\x65\x6e\164\x65\x72\x65\144")->select(); goto xyQ57; xyQ57: return ["\164\157\x74\141\x6c" => $totalCount, "\x72\x6f\167\163" => $records]; goto HN1xH; HN1xH: } public function loadFundHostingAgencyComboDatas() { goto AiEfF; ieaUk: return $records; goto NUSGx; suWVS: $records = Db::table("\143\157\x6e\146\x69\x67\x5f\x66\x75\156\144\x5f\150\x6f\x73\x74\151\x6e\147\x5f\x61\147\145\156\x63\x79")->where($conditions)->order("\145\x6e\x74\145\162\145\144\40\141\x73\143")->field("\151\x64\54\15\xa\40\40\x20\40\40\x20\x20\40\40\x20\40\x20\x6e\141\155\x65\54\15\12\40\40\40\40\x20\x20\x20\x20\x20\x20\40\x20\x6c\151\x6e\153\155\x61\x6e\x2c\15\xa\x20\40\40\x20\40\40\x20\x20\x20\40\x20\40\x74\145\154\x2c\xd\12\40\40\x20\x20\x20\40\x20\x20\40\x20\x20\x20\145\156\x74\145\162\x65\144")->select(); goto RDqzl; AiEfF: $conditions = []; goto suWVS; RDqzl: array_unshift($records, ["\x69\x64" => 0, "\156\141\x6d\145" => "\346\234\252\xe9\200\x89\346\x8b\xa9", "\x6c\x69\156\x6b\155\x61\156" => '', "\x74\145\x6c" => '']); goto ieaUk; NUSGx: } public function getFundHostingAgencyInfos($id) { goto ICYDc; ICYDc: $infos = Db::table("\143\157\156\146\x69\147\137\146\x75\x6e\144\137\150\157\163\x74\151\x6e\147\137\141\x67\x65\156\x63\x79")->where("\151\x64", $id)->field(true)->find(); goto Dzz5b; Dzz5b: if ($infos) { goto qfWKA; } goto CR0C3; iN5gW: qfWKA: goto aJCkP; CR0C3: return false; goto iN5gW; aJCkP: return $infos; goto M0xJZ; M0xJZ: } public function addFundHostingAgency($infos) { goto gYq3N; ociM3: return true; goto J0V_0; fbizv: $model->save(); goto ociM3; gYq3N: $model = model("\x43\157\156\x66\151\147\106\x75\x6e\144\110\157\163\x74\151\156\147\101\x67\145\156\143\171"); goto VCVxy; VCVxy: $model->data(["\156\x61\x6d\x65" => !emptyInArray($infos, "\156\141\155\x65") ? $infos["\156\141\x6d\x65"] : '', "\154\151\x6e\153\155\141\156" => !emptyInArray($infos, "\154\151\156\x6b\x6d\141\156") ? $infos["\x6c\x69\x6e\153\x6d\x61\x6e"] : '', "\164\145\x6c" => !emptyInArray($infos, "\164\x65\x6c") ? $infos["\x74\x65\154"] : '', "\x65\156\164\x65\162\145\x64" => date("\131\x2d\155\x2d\x64\x20\110\x3a\x69\72\163")]); goto fbizv; J0V_0: } public function editFundHostingAgency($id, $infos) { goto kCnAk; kCnAk: $model = new ConfigFundHostingAgency(); goto ZL1KP; ZL1KP: $model->save(["\156\x61\x6d\145" => !emptyInArray($infos, "\x6e\x61\155\x65") ? $infos["\x6e\141\155\x65"] : '', "\x6c\151\x6e\x6b\x6d\141\156" => !emptyInArray($infos, "\x6c\x69\156\x6b\x6d\141\x6e") ? $infos["\x6c\x69\x6e\x6b\x6d\x61\156"] : '', "\164\145\154" => !emptyInArray($infos, "\x74\x65\154") ? $infos["\x74\145\154"] : '', "\145\156\164\x65\162\x65\144" => date("\x59\x2d\x6d\x2d\144\40\x48\x3a\151\x3a\163")], ["\x69\x64" => $id]); goto ziK4A; ziK4A: return true; goto JONNE; JONNE: } public function deleteFundHostingAgency($id) { ConfigFundHostingAgency::destroy($id); return true; } public function loadScientistFields($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = "\x69\x64", $order = "\x64\145\163\x63") { goto Pbhoh; ENeHx: U1SlE: goto z8DJ2; yB6sY: if (emptyInArray($search, "\x6e\141\155\x65")) { goto prw3C; } goto aCSwc; Q6pMM: return ["\164\x6f\x74\141\x6c" => $totalCount, "\x72\157\x77\163" => $records]; goto YB3iv; RtYuP: $order = "\x69\144\x20\x64\x65\x73\143"; goto X14_V; qiZNz: $order = "\x69\144\x20" . $order; goto ENeHx; aCSwc: $conditions["\x6e\x61\155\145"] = ["\154\x69\x6b\145", "\x25" . $search["\x6e\141\x6d\145"] . "\x25"]; goto mqUrm; Izp5q: L3Xtd: goto qiZNz; mqUrm: prw3C: goto pgKIi; dhksN: $records = Db::table("\143\157\156\146\x69\147\137\163\143\151\x65\x6e\x74\x69\x73\164\137\x66\x69\145\154\x64")->where($conditions)->limit($limit)->order($order)->field("\x69\144\54\15\xa\40\x20\40\x20\x20\x20\x20\40\x20\x20\40\40\x6e\141\x6d\x65\54\15\xa\40\x20\40\x20\x20\x20\40\x20\x20\x20\40\40\145\156\164\145\x72\x65\x64")->select(); goto Q6pMM; X14_V: goto U1SlE; goto Izp5q; pgKIi: $totalCount = Db::table("\143\x6f\156\146\x69\147\137\163\x63\151\x65\x6e\x74\151\163\164\137\146\x69\x65\x6c\144")->where($conditions)->count(); goto dhksN; z8DJ2: $conditions = []; goto yB6sY; Pbhoh: $limit = ($page - 1) * $rows . "\x2c" . $rows; goto Ckly7; Ckly7: if ($sort == "\x69\144") { goto L3Xtd; } goto RtYuP; YB3iv: } public function loadScientistFieldComboDatas() { goto R1KGh; Wdl1v: $records = Db::table("\x63\157\156\x66\151\147\x5f\163\143\x69\145\x6e\164\151\x73\x74\137\146\151\x65\x6c\x64")->where($conditions)->order("\145\156\x74\x65\x72\x65\x64\x20\141\x73\x63")->field("\x69\x64\x2c\xd\xa\x20\x20\40\x20\x20\40\40\40\40\x20\x20\x20\156\141\x6d\145")->select(); goto IJChZ; IJChZ: return $records; goto u6F5O; R1KGh: $conditions = []; goto Wdl1v; u6F5O: } public function getScientistFieldInfos($id) { goto ZNvB6; jges_: if ($infos) { goto M3alI; } goto mz8KD; aC2bp: M3alI: goto tbP00; mz8KD: return false; goto aC2bp; tbP00: return $infos; goto XtIQs; ZNvB6: $infos = Db::table("\x63\157\156\146\x69\147\x5f\x73\143\151\145\156\x74\151\x73\x74\x5f\146\x69\x65\154\x64")->where("\x69\144", $id)->field(true)->find(); goto jges_; XtIQs: } public function saveScientistField($id = 0, $infos) { goto wTQ_F; w2XBu: z_UpB: goto yMnvR; yMnvR: return true; goto DyKFw; NM5Nd: $model->data(["\156\141\x6d\x65" => !emptyInArray($infos, "\x6e\141\x6d\145") ? $infos["\x6e\141\155\x65"] : '']); goto v59nU; CSbm9: if ($id) { goto HpWfy; } goto NM5Nd; C1pN2: $model->save(["\156\141\x6d\145" => !emptyInArray($infos, "\156\141\155\145") ? $infos["\156\141\155\145"] : ''], ["\x69\144" => $id]); goto w2XBu; v59nU: $model->save(); goto O0vP3; UvB0u: HpWfy: goto C1pN2; O0vP3: goto z_UpB; goto UvB0u; wTQ_F: $model = model("\x43\x6f\156\x66\x69\147\x53\x63\151\x65\156\164\x69\163\164\106\151\145\154\144"); goto CSbm9; DyKFw: } public function deleteScientistField($id) { ConfigScientistField::destroy($id); return true; } }
