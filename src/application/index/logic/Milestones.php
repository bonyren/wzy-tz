<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; class Milestones extends Base { public function load($category, $recordId) { $records = Db::table("\x6d\151\x6c\145\163\164\x6f\x6e\x65\x73")->where(["\143\x61\x74\x65\147\x6f\162\x79" => $category, "\162\145\143\157\162\x64\x5f\151\x64" => $recordId])->order("\155\x69\154\145\x73\x74\x6f\x6e\145\x5f\x69\144\40\x61\163\x63")->field(true)->select(); return $records; } public function save($category, $recordId, $occurDate, $desc) { goto NWlV4; GSn_Y: $model->save(); goto dybWK; NWlV4: $model = new \app\index\model\Milestones(["\143\x61\164\145\x67\157\162\171" => $category, "\x72\x65\x63\x6f\162\144\137\151\144" => $recordId, "\157\x63\x63\x75\x72\x5f\x64\x61\164\x65" => $occurDate, "\x64\145\x73\143" => $desc]); goto GSn_Y; dybWK: return $model->milestone_id; goto guxTR; guxTR: } public function delete($category, $recordId) { \app\index\model\Milestones::destroy(["\143\x61\x74\x65\147\x6f\162\x79" => $category, "\162\145\143\x6f\x72\x64\x5f\x69\144" => $recordId]); return true; } }
